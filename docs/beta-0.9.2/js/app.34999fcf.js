(function(){var e={7044:function(e,t,n){"use strict";var r=n(9242),a=n(3396);function i(e,t,n,r,i,o){const s=(0,a.up)("SidebarView");return(0,a.wg)(),(0,a.j4)(s)}var o=n(7139),s={key:0},l={class:"sticky"};function c(e,t,n,r,i,c){var d=(0,a.up)("font-awesome-icon"),u=(0,a.up)("TabsView"),g=(0,a.up)("FramesView"),f=(0,a.up)("SyncView"),p=(0,a.up)("PluginInstallView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.hasPlugin?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("ul",l,[(0,a._)("li",{class:(0,o.C_)({active:"tabs"===this.selected}),onClick:t[0]||(t[0]=function(t){return e.select("tabs")})},[(0,a.Wm)(d,{icon:"tv"}),(0,a.Uk)(" Bars ")],2),(0,a._)("li",{class:(0,o.C_)({active:"frames"===this.selected}),onClick:t[1]||(t[1]=function(t){return e.select("frames")})},[(0,a.Wm)(d,{icon:"star"}),(0,a.Uk)(" Bookmarks ")],2),(0,a._)("li",{class:(0,o.C_)({active:"sync"===this.selected}),onClick:t[2]||(t[2]=function(t){return e.select("sync")})},[(0,a.Wm)(d,{icon:"rotate"}),(0,a.Uk)(" Sync ")],2)]),e.renderData&&"tabs"===e.selected?((0,a.wg)(),(0,a.j4)(u,{key:0,"render-data":e.renderData},null,8,["render-data"])):(0,a.kq)("",!0),e.renderData&&"frames"===e.selected?((0,a.wg)(),(0,a.j4)(g,{key:1,"render-data":e.renderData},null,8,["render-data"])):(0,a.kq)("",!0),"sync"===e.selected?((0,a.wg)(),(0,a.j4)(f,{key:2})):(0,a.kq)("",!0)])):(0,a.kq)("",!0),e.hasPlugin?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(p,{key:1}))],64)}const d={key:0},u={key:1};function g(e,t,n,r,i,o){const s=(0,a.up)("CurrentActiveTabs"),l=(0,a.up)("TabContainer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.renderData.windows&&1===n.renderData.windows.length?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(s,{window:n.renderData.windows[0],tags:n.renderData.tags,search:n.renderData.search,frames:n.renderData.frames,"groups-data":n.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])):(0,a.kq)("",!0),n.renderData.windows&&n.renderData.windows.length>1?((0,a.wg)(),(0,a.iD)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.renderData.windows,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(l,{title:"current tab: "+e.name,"default-activation":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{window:e,tags:n.renderData.tags,search:n.renderData.search,frames:n.renderData.frames,"groups-data":n.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])),_:2},1032,["title"])])))),128))])):(0,a.kq)("",!0)],64)}const f=e=>((0,a.dD)("data-v-7a2ff513"),e=e(),(0,a.Cn)(),e),p={id:"tab",ref:"tab",class:"tab"},m=f((()=>(0,a._)("input",{type:"checkbox"},null,-1)));function h(e,t,n,i,s,l){return(0,a.wg)(),(0,a.iD)("div",p,[m,(0,a._)("label",{class:(0,o.C_)(["tab-label",{"label-open":l.isActive}]),onClick:t[0]||(t[0]=(...e)=>l.openTab&&l.openTab(...e)),draggable:"true"},(0,o.zw)(n.title),3),(0,a.wy)((0,a._)("div",{class:(0,o.C_)(["tab-content",{border:n.useBorder}]),ref:"content"},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2),[[r.F8,l.isActive]])],512)}var v={name:"TabContainer",props:["title","defaultActivation","useBorder"],data(){return{isActiveButton:null,lastOffetY:null}},watch:{},computed:{isActive(){return null===this.isActiveButton?this.defaultActivation:this.isActiveButton}},methods:{openTab(){null===this.isActiveButton&&this.defaultActivation||this.isActiveButton?this.isActiveButton=!1:this.isActiveButton=!0}}},w=n(89);const k=(0,w.Z)(v,[["render",h],["__scopeId","data-v-7a2ff513"]]);var D=k,b={class:"active-frame-container"},y={key:0},_={key:1};function T(e,t,n,r,i,o){var s=(0,a.up)("ActiveFrameUnit"),l=(0,a.up)("LineToolBar"),c=(0,a.up)("FrameDropArea"),d=(0,a.up)("SuggestionFrames"),u=(0,a.up)("TabGroupScaffold");return(0,a.wg)(),(0,a.iD)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.window.pinneds,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:n},[(0,a.Wm)(s,{frame:t,minimized:!0},null,8,["frame"]),(0,a.Wm)(l,{frames:e.frames,frame:t,"groups-data":e.groupsData},null,8,["frames","frame","groups-data"])])})),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.window.tabs,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:n},["web"===t.kind?((0,a.wg)(),(0,a.iD)("div",y,[(0,a.Wm)(c,{"frame-bottom":t,"frame-top":n>0?e.window.tabs[n-1]:-1},null,8,["frame-bottom","frame-top"]),(0,a.Wm)(s,{frame:t},null,8,["frame"]),(0,a.Wm)(l,{frames:e.frames,frame:t,"groups-data":e.groupsData},null,8,["frames","frame","groups-data"])])):(0,a.kq)("",!0),"group"===t.kind?((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(u,{title:t.title,color:t.color,collapsed:t.collapsed,group:t,"count-frames":t.frames.length},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.frames,(function(t,r){return(0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a.Wm)(c,{"frame-bottom":t,"frame-top":e.getTopFrameFromGroup(r,n)},null,8,["frame-bottom","frame-top"]),(0,a.Wm)(s,{frame:t},null,8,["frame"])])})),128)),(0,a.Wm)(d,{frames:t.suggestedFrames,group:t},null,8,["frames","group"])]})),_:2},1032,["title","color","collapsed","group","count-frames"])])):(0,a.kq)("",!0)])})),128))])}var I={ref:"framePlc"},C={key:0,class:"frame-footer-drag"},S={class:"frame-info"},A={class:"frame-header"},O={class:"frame-header-left"},M=["src"],G={key:1},q={class:"frame-header-right"},x={key:0,class:"frame-volume",title:"meeting"},P={class:"title-container"},W={class:"frame-footer"},E={class:"tags"};function F(e,t,n,i,s,l){var c=(0,a.up)("font-awesome-icon"),d=(0,a.up)("TagContainer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("a",I,null,512),(0,a._)("div",{class:(0,o.C_)(["frame-info-container",{open:e.frame.isSelected}]),draggable:"true",onDragend:t[9]||(t[9]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragend&&e.dragend.apply(e,t)}),onDragstart:t[10]||(t[10]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragstart&&e.dragstart.apply(e,t)}),ref:"frame",id:"frame"},[e.minimized?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("small",C,[(0,a.Wm)(c,{icon:"bars"})])),(0,a._)("div",S,[(0,a._)("div",A,[(0,a._)("div",O,[e.frame.favIconUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,M)):(0,a.kq)("",!0),e.minimized?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("small",G,(0,o.zw)(e.frame.domain),1)),e.minimized?((0,a.wg)(),(0,a.iD)("small",{key:2,class:(0,o.C_)({"current-selected":e.frame.isSelected}),onClick:t[0]||(t[0]=(0,r.iM)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goToPage&&e.goToPage.apply(e,t)}),["exact"]))},(0,o.zw)(e.frame.title),3)):(0,a.kq)("",!0),(0,a._)("small",{class:"copy",onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.copyLink&&e.copyLink.apply(e,t)})},[(0,a.Wm)(c,{icon:"copy"})])]),(0,a._)("div",q,[e.frame.audible?((0,a.wg)(),(0,a.iD)("div",x,[(0,a.Wm)(c,{icon:"volume-up"})])):(0,a.kq)("",!0),(0,a._)("div",{class:"frame-header-clone",onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.clone&&e.clone.apply(e,t)}),title:"clone frame"},[(0,a.Wm)(c,{icon:"clone"})]),-1===this.frame.groupId?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"frame-header-group",onClick:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.newGroupTab&&e.newGroupTab.apply(e,t)}),title:"add tab to group"},[(0,a.Wm)(c,{icon:"object-group"})])):(0,a.kq)("",!0),this.frame.groupId>-1?((0,a.wg)(),(0,a.iD)("div",{key:2,class:"frame-header-group",onClick:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.removeGroupTab&&e.removeGroupTab.apply(e,t)}),title:"add tab to group"},[(0,a.Wm)(c,{icon:"object-ungroup"})])):(0,a.kq)("",!0),e.frame.isPinned?((0,a.wg)(),(0,a.iD)("div",{key:3,class:"frame-header-pinned pinned",onClick:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.unpinTab&&e.unpinTab.apply(e,t)}),title:"unpin current tab"},[(0,a.Wm)(c,{icon:"thumbtack"})])):(0,a.kq)("",!0),e.frame.isPinned?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:4,class:"frame-header-pinned",onClick:t[6]||(t[6]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.pinTab&&e.pinTab.apply(e,t)}),title:"pin current tab"},[(0,a.Wm)(c,{icon:"thumbtack"})])),e.frame.isOpened?((0,a.wg)(),(0,a.iD)("div",{key:5,class:"frame-header-close",onClick:t[7]||(t[7]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.closeTab&&e.closeTab.apply(e,t)}),title:"close current tab"},[(0,a.Wm)(c,{icon:"xmark"})])):(0,a.kq)("",!0)])]),(0,a._)("div",P,[e.minimized?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h1",{key:0,class:(0,o.C_)(["frame-title",{"current-selected":e.frame.isSelected}]),onClick:t[8]||(t[8]=(0,r.iM)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goToPage&&e.goToPage.apply(e,t)}),["exact"]))},(0,o.zw)(e.frame.title),3))]),(0,a._)("div",W,[(0,a._)("div",E,[(0,a.Wm)(d,{"suggested-tags":e.frame.suggestedTags,tags:e.frame.tags,"fixed-tags":e.frame.preProcessedTags,onAddTag:e.addTag,onClickedTag:e.clickedTag,onClickedSuggestion:e.addTag,onRemoveTag:e.removeTag},null,8,["suggested-tags","tags","fixed-tags","onAddTag","onClickedTag","onClickedSuggestion","onRemoveTag"])])])])],34)],64)}n(7658);const U={class:"tags"},L=["onClick"],j=["onClick"],R=["onClick","onDrag"];function Z(e,t,n,i,s,l){const c=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("ul",U,[(0,a._)("div",{onDragover:[t[0]||(t[0]=(...e)=>l.dragover&&l.dragover(...e)),t[3]||(t[3]=(0,r.iM)((()=>{}),["prevent"]))],onDragleave:t[1]||(t[1]=(...e)=>l.dragleave&&l.dragleave(...e)),onDrop:t[2]||(t[2]=(...e)=>l.onDropAdd&&l.onDropAdd(...e)),onDragenter:t[4]||(t[4]=(0,r.iM)((()=>{}),["prevent"]))},[l.isAddingDroppable?((0,a.wg)(),(0,a.iD)("a",{key:0,class:(0,o.C_)(["tag new",{"drag-over":s.isDraggingOver}])},"add here",2)):(0,a.kq)("",!0)],32),l.isRemoveDroppable?((0,a.wg)(),(0,a.iD)("li",{key:0,onDragover:[t[5]||(t[5]=(...e)=>l.dragover&&l.dragover(...e)),t[8]||(t[8]=(0,r.iM)((()=>{}),["prevent"]))],onDragleave:t[6]||(t[6]=(...e)=>l.dragleave&&l.dragleave(...e)),onDrop:t[7]||(t[7]=(...e)=>l.onDropRemove&&l.onDropRemove(...e)),onDragenter:t[9]||(t[9]=(0,r.iM)((()=>{}),["prevent"]))},[(0,a._)("a",{class:(0,o.C_)(["tag remove",{"drag-over":s.isDraggingOver}])},[(0,a.Wm)(c,{icon:"trash"})],2)],32)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.suggestedTags,((t,n)=>((0,a.wg)(),(0,a.iD)("li",{key:n},[(0,a._)("a",{class:"tag suggested",onClick:n=>e.$emit("clickedSuggestion",t)},(0,o.zw)(t),9,L)])))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.fixedTags,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[(0,a._)("a",{class:"tag fixed",onClick:t=>l.clickedTag(e)},(0,o.zw)(e),9,j)])))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tags,((e,r)=>((0,a.wg)(),(0,a.iD)("li",{key:r},[(0,a._)("a",{class:(0,o.C_)(["tag",n.color]),onClick:t=>l.clickedTag(e),id:"tag",draggable:"true",onDrag:t=>l.dragstart(e),onDragend:t[10]||(t[10]=(...e)=>l.dragend&&l.dragend(...e))},(0,o.zw)(e),43,R)])))),128))])}var z=n(65),B=function(e){if(""===e)return"empty.com";if(e.startsWith("chrome://"))return"chrome.google";var t=new URL(e).hostname;return t=t.replace("www.",""),t};function N(e){return e&&e.startsWith("https://")?(e=e.substring(8),e=e.replace("www.",""),e.split("/")[0]):""}function H(e){var t=N(e),n=t.split(".");return n.pop(),n=n.filter((function(e){return"com"!==e})),n=n.filter((function(e){return e.length>1})),n}var V=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function $(e,t,n,r,a){var i=X(e,t);return{tabs:t,search:r,tags:Y(i,r),windows:J(t,n,e,a),frames:i,groupsData:a}}function Y(e,t){void 0===t&&(t=[]);var n=[],r=te(e,t);return r.forEach((function(e){e.tags.forEach((function(e){if(!t.includes(e)){var r=n.findIndex((function(t){return t.name===e}));-1===r?n.push({name:e,count:1,kind:"tag"}):n[r].count++}})),e.preProcessedTags.forEach((function(e){if(!t.includes(e)){var r=n.findIndex((function(t){return t.name===e}));-1===r?n.push({name:e,count:1,kind:"preProcessed"}):n[r].count++}}))})),t.length>0&&(n=n.filter((function(e){return e.count<r.length}))),n.sort((function(e,t){return e.count>t.count?-1:1}))}function J(e,t,n,r){var a=[];return e.forEach((function(i){var o=a.find((function(e){return e.id===i.windowId}));if(o||(o={name:"main",id:i.windowId,pinneds:[],tabs:[]},a.push(o)),i.pinned)o.pinneds.push(Q(i,n));else{-1===i.groupId&&o.tabs.push(Q(i,n));var s=t.find((function(e){return e.id===i.groupId}));if(s){var l=o.tabs.find((function(e){return e.id===i.groupId})),c=Q(i,n);if(l)c.suggestedTags=l.tags.filter((function(e){return!c.tags.includes(e)})),l.frames.push(c);else{var d=r.find((function(e){return e.title===s.title})),u=[],g=[];d&&(u=V([],d.tags,!0),c.suggestedTags=u.filter((function(e){return!c.tags.includes(e)})),g=K(n,e,t,d)),o.tabs.push({id:i.groupId,title:s.title,color:s.color,collapsed:s.collapsed,suggestedFrames:g,frames:[c],tags:u,preProcessedTags:["@group"],kind:"group"})}}}})),a}function K(e,t,n,r){if(0===r.tags.length)return[];var a=n.find((function(e){return e.title===r.title}));if(!a)return[];var i=e.filter((function(e){return r.tags.every((function(t){return e.tags.includes(t)}))})),o=t.filter((function(e){return e.groupId===a.id})).map((function(e){return e.url}));return i=i.filter((function(e){return!o.includes(e.url)})),i}function X(e,t){if(void 0===t&&(t=[]),0===e.length)return[];var n=[],r=e.map((function(e){return e.tags})).reduce((function(e,t){return e=e.concat(t),e})),a=ee(r);return e.forEach((function(e){var r=!!e.url;if(r){var i=e,o=H(i.url).map((function(e){return"@"+e})).sort((function(e,t){return a.get(e)||0<(a.get(t)||0)?1:-1})),s=t.find((function(e){return e.url===i.url}));n.push({id:s?s.id:"",index:s?s.index:-1,groupId:s?s.groupId:-1,windowId:s?s.windowId:-1,favIconUrl:i.favIconUrl,title:i.title,audible:!!s&&s.audible,preProcessedTags:o,tags:e.tags,domain:B(i.url),url:i.url,isPinned:!!s&&s.pinned,isSelected:!!s&&s.selected,active:!!s&&s.active,isOpened:!!s,kind:"web"})}e.tags=e.tags.sort((function(e,t){return(a.get(e)||0)<(a.get(t)||0)?1:-1}))})),n}function Q(e,t){var n=t.find((function(t){return t.url===e.url})),r=[];return n&&(r=n.tags),{id:e.id,windowId:e?e.windowId:-1,groupId:e?e.groupId:-1,index:e?e.index:-1,url:e.url,favIconUrl:e.favIconUrl,title:e.title,tags:r,audible:!!e&&e.audible,domain:B(e.url),preProcessedTags:H(e.url).map((function(e){return"@"+e})),isPinned:e.pinned,active:e.active,isOpened:!0,isSelected:e.selected,kind:"web"}}function ee(e){var t=new Map;return e.forEach((function(e){t.set(e,(t.get(e)||0)+1)})),t}function te(e,t){var n=t.filter((function(e){return e.startsWith("#")})),r=t.filter((function(e){return e.startsWith("@")}));return e.filter((function(e){var t=!(r.length>0)||r.every((function(t){return e.preProcessedTags.includes(t)})),a=!(n.length>0)||n.every((function(t){return e.tags.includes(t)}));return t&&a}))}function ne(e,t){return t.length>0&&(e=e.filter((function(e){return t.every((function(t){return e.tags.includes(t)||e.preProcessedTags.includes(t)}))}))),re(e)}function re(e){return e.sort((function(e,t){var n=e.tags.length>t.tags.length;return n?1:-1}))}function ae(e,t,n){var r=V([],n,!0);return e.forEach((function(e){var a=t.find((function(t){return t.id===e.id})),i=n.findIndex((function(t){return t.title===e.title}));a&&~i&&(r[i]={title:a.title,color:a.color,tags:n[i].tags,updatedAt:n[i].updatedAt+1})})),r}var ie=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},oe=(0,z.MT)({state:function(){return{dragItem:null,storage:{kind:"local",accessKey:"",gistID:""},savedGroups:[],savedNotes:[],frames:[],clipboard:null,head:{input:""},frameContainer:{currentSelectedFrameIdx:-1},tabs:[],tabGroups:[],search:[]}},getters:{dragItem:function(e){return e.dragItem},storage:function(e){return e.storage},activeTab:function(e){var t=e.tabs.find((function(e){return e.active}));return t&&t.url?t:null},allTabs:function(e){return e.tabs},renderData:function(e){return $(e.frames,e.tabs,e.tabGroups,e.search,e.savedGroups)},frames:function(e){return X(e.frames,e.tabs)},rawFullData:function(e){return ie(ie([],e.frames,!0),e.savedGroups,!0)}},mutations:{ADD_SEARCH_ITEM:function(e,t){e.search.some((function(e){return e===t}))||e.search.push(t)},REMOVE_SEARCH_ITEM:function(e,t){var n=e.search.findIndex((function(e){return e===t}));~n&&e.search.splice(n,1)},SET_DRAG_ITEM:function(e,t){e.dragItem=t},SET_DROPER_ID:function(e,t){setTimeout((function(){e.dragItem&&e.dragItem.lastUpdate&&Date.now()-200>e.dragItem.lastUpdate&&(e.dragItem.dropperId=null)}),300),e.dragItem&&(e.dragItem.dropperId=t,e.dragItem.lastUpdate=Date.now())},SET_STORAGE:function(e,t){localStorage.setItem("storage",JSON.stringify(t)),e.storage=t},SET_DATA:function(e,t){e.frames=t.frames,e.storage=t.storage,e.savedGroups=t.groupsData},SET_CLIPBOARD:function(e,t){e.clipboard=t},PULL_DATA:function(e,t){e.frames=t.filter((function(e){return!!e.url})),localStorage.setItem("frames",JSON.stringify(e.frames)),e.savedGroups=t.filter((function(e){return!!e.color})),localStorage.setItem("savedGroups",JSON.stringify(e.savedGroups)),e.savedNotes=t.filter((function(e){return!!e.content})),localStorage.setItem("savedNotes",JSON.stringify(e.savedNotes))},SET_GROUP_DATA:function(e,t){var n=e.savedGroups.findIndex((function(e){return e.title===t.title}));~n?e.savedGroups[n]=t:e.savedGroups.push(t),localStorage.setItem("savedGroups",JSON.stringify(e.savedGroups))},SET_FRAME:function(e,t){t.updatedAt=Date.now();var n=e.frames.findIndex((function(e){return e.url===t.url}));~n?e.frames[n]=t:e.frames.push(t),localStorage.setItem("frames",JSON.stringify(e.frames))},SET_ALL_TABS:function(e,t){e.tabs=t},SET_ALL_TAB_GROUPS:function(e,t){e.savedGroups=ae(e.tabGroups,t,e.savedGroups),localStorage.setItem("savedGroups",JSON.stringify(e.savedGroups)),e.tabGroups=t},REMOVE_SAVED_GROUP:function(e,t){var n=e.savedGroups.findIndex((function(e){return e.title===t}));~n&&e.savedGroups.splice(n,1),localStorage.setItem("savedGroups",JSON.stringify(e.savedGroups))},SAVE_GROUP:function(e,t){var n=e.savedGroups.findIndex((function(e){return e.title===t.title}));~n?e.savedGroups[n]=t:e.savedGroups.push(t),localStorage.setItem("savedGroups",JSON.stringify(e.savedGroups))},SET_NOTE:function(e,t){t.updatedAt=Date.now(),e.frames.push(t),localStorage.setItem("frames",JSON.stringify(e.frames))}},actions:{addSearchItem:function(e,t){e.commit("ADD_SEARCH_ITEM",t)},removeSearchItem:function(e,t){e.commit("REMOVE_SEARCH_ITEM",t)},setDragItem:function(e,t){e.commit("SET_DRAG_ITEM",t)},setDropperId:function(e,t){e.commit("SET_DROPER_ID",t)},setClipboard:function(e,t){e.state.clipboard!==t&&e.commit("SET_CLIPBOARD",t)},setAllTabs:function(e,t){e.commit("SET_ALL_TABS",t)},setAllTabGroups:function(e,t){e.commit("SET_ALL_TAB_GROUPS",t)},upsertFrame:function(e,t){e.commit("SET_FRAME",t)},upsertSavedGroups:function(e,t){e.commit("SET_GROUP_DATA",t)},pullData:function(e,t){e.commit("PULL_DATA",t)},saveGroup:function(e,t){e.commit("SAVE_GROUP",t)},removeGroup:function(e,t){e.commit("REMOVE_SAVED_GROUP",t)},loadState:function(e){var t=[],n=localStorage.getItem("frames");n&&(t=JSON.parse(n));var r={kind:"local"},a=localStorage.getItem("storage");a&&(r=JSON.parse(a));var i=[],o=localStorage.getItem("savedGroups");o&&(i=JSON.parse(o)),e.commit("SET_DATA",{frames:t,storage:r,groupsData:i})},setStorage:function(e,t){e.commit("SET_STORAGE",t)}},modules:{}}),se={name:"TagContainer",emits:["addTag","clickedTag","removeTag","clickedSuggestion"],props:["tags","fixedTags","color","suggestedTags"],data(){return{isDraggingOver:!1,id:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{dragItem(){return oe.getters.dragItem},isRemoveDroppable(){return!!this.dragItem&&this.dragItem.draggerId===this.id},isAddingDroppable(){return!(!this.dragItem||"tag"!==this.dragItem.kind)&&this.dragItem.draggerId!==this.id}},methods:{dragstart(e){const t={kind:"tag",draggerId:this.id,object:e};oe.dispatch("setDragItem",t)},dragend(){oe.dispatch("setDragItem",null)},clickedTag(e){this.$emit("clickedTag",e)},dragover(){this.isDraggingOver=!0},dragleave(){this.isDraggingOver=!1},onDropAdd(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("addTag",this.dragItem.object)},onDropRemove(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("removeTag",this.dragItem.object)}}};const le=(0,w.Z)(se,[["render",Z],["__scopeId","data-v-803a985a"]]);var ce=le,de=(0,a.aZ)({name:"ActiveFrameUnit",components:{TagContainer:ce},props:["frame","minimized"],data:function(){return{}},computed:{dragItem:function(){return oe.getters.dragItem}},watch:{frame:{handler:function(e){var t=this;e.active&&this.$nextTick((function(){var e=t.$refs.frame;e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}))},deep:!0}},mounted:function(){},methods:{dragstart:function(e){if("frame"===e.toElement.id){var t=this.$refs.frame;t.style.opacity="0.4";var n={draggerId:this.frame.id,kind:"frame",object:this.frame};oe.dispatch("setDragItem",n)}},copyLink:function(){navigator.clipboard.writeText(this.frame.url)},dragend:function(){var e=this.$refs.frame;e.style.opacity="1",oe.dispatch("setDragItem",null)},clickedTag:function(e){oe.dispatch("addSearchItem",e)},newGroupTab:function(){this.port.postMessage({kind:"group-tabs",tabs:this.frame.id})},removeGroupTab:function(){this.port.postMessage({kind:"ungroup-tabs",tabs:this.frame.id})},pinTab:function(){this.frame.isOpened?this.port.postMessage({kind:"pin-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url,pinned:!0})},clone:function(){this.port.postMessage({kind:"open-and-update",url:this.frame.url,windowId:this.frame.windowId,index:this.frame.index+1,groupId:this.frame.groupId})},unpinTab:function(){this.port.postMessage({kind:"unpin-tab",tab:this.frame.id})},closeTab:function(){this.port.postMessage({kind:"close-tabs",tab:this.frame.id})},goToPage:function(){this.frame.isOpened?this.port.postMessage({kind:"open-request-existing-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url})},addTag:function(e){var t=JSON.parse(JSON.stringify(this.frame));t.tags.push(e),oe.dispatch("upsertFrame",t)},removeTag:function(e){var t=JSON.parse(JSON.stringify(this.frame));t.tags=t.tags.filter((function(t){return!t.includes(e)})),oe.dispatch("upsertFrame",t)}}});const ue=(0,w.Z)(de,[["render",F],["__scopeId","data-v-69475339"]]);var ge=ue;function fe(e,t,n,i,s,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[l.isHoverArea?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["hover-area",{hover:l.isDropArea}]),onDrop:t[0]||(t[0]=(...e)=>l.onDrop&&l.onDrop(...e)),onDragover:[t[1]||(t[1]=(0,r.iM)((()=>{}),["prevent"])),t[2]||(t[2]=(...e)=>l.dragover&&l.dragover(...e))]},null,34)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,o.C_)(["drop-area",{active:l.isDropArea}]),onDrop:t[3]||(t[3]=(...e)=>l.onDrop&&l.onDrop(...e)),onDragover:t[4]||(t[4]=(...e)=>l.dragover&&l.dragover(...e)),onDragenter:t[5]||(t[5]=(0,r.iM)((()=>{}),["prevent"]))},null,34)],64)}var pe={name:"FrameDropArea",props:["frameTop","frameBottom"],components:{},data(){return{id:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{frameBottomId(){return this.frameBottom?this.frameBottom.id:-1},frameTopId(){return this.frameTop?this.frameTop.id:-1},dragItem(){return oe.getters.dragItem},isHoverArea(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.draggerId!==this.frameBottomId&&this.dragItem.draggerId!==this.frameTopId},isDropArea(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.dropperId===this.id&&this.dragItem.draggerId!==this.frameBottomId&&this.dragItem.draggerId!==this.frameTopId},isDroppable(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.dropperId!==this.id}},methods:{onDrop(){if(this.dragItem&&"frame"===this.dragItem.kind){const e=this.dragItem.object,t=e.id===this.frameTopId?this.frameTop:this.frameBottom,n=e.index>t.index?t.index:t.index-1;e.isOpened?this.port.postMessage({kind:"move-tab",tab:e.id,windowId:t.windowId,index:n,groupId:t.groupId}):this.port.postMessage({kind:"open-and-update",url:e.url,windowId:t.windowId,index:t.index,groupId:t.groupId})}},dragover(){oe.dispatch("setDropperId",this.id)}},mounted(){}};const me=(0,w.Z)(pe,[["render",fe],["__scopeId","data-v-4505ad9d"]]);var he=me,ve={class:"scafold-container"},we={class:"header-left"},ke={key:0},De={class:"header-right"},be={class:"frame-footer-drag"},ye={class:"footer"};function _e(e,t,n,i,s,l){var c=(0,a.up)("font-awesome-icon"),d=(0,a.up)("TagContainer");return(0,a.wg)(),(0,a.iD)("div",ve,[(0,a._)("div",{class:(0,o.C_)(["header",e.color]),draggable:"true"},[(0,a._)("div",we,[e.collapsed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["input",e.color]),onClick:t[0]||(t[0]=function(t){return e.collapse(!0)})},"-",2)),e.collapsed?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,o.C_)(["input",e.color]),onClick:t[1]||(t[1]=function(t){return e.collapse(!1)})},"+",2)):(0,a.kq)("",!0),e.editTitleMode?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newTitle=t}),class:(0,o.C_)(e.color),onFocusout:t[3]||(t[3]=function(t){return e.saveNewTitle()}),placeholder:"(empty)",ref:"input"},null,34)),[[r.nr,e.newTitle]]):(0,a.kq)("",!0),e.editTitleMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("label",{key:3,class:(0,o.C_)(e.color),ref:"label",onClick:t[4]||(t[4]=function(t){return e.editTitle()})},[(0,a.Uk)((0,o.zw)(e.title.length>0?e.title:"(empty)")+" ",1),e.collapsed?((0,a.wg)(),(0,a.iD)("span",ke," - "+(0,o.zw)(e.countFrames)+" item(s)",1)):(0,a.kq)("",!0)],2))]),(0,a._)("div",De,[(0,a._)("div",{class:(0,o.C_)(["color-picker",e.color]),onClick:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeColor&&e.changeColor.apply(e,t)})},"color",2),(0,a._)("div",be,[(0,a.Wm)(c,{icon:"bars"})])])],2),e.collapsed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["content",e.color])},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2)),(0,a._)("div",ye,[(0,a.Wm)(d,{tags:e.group.tags,color:e.group.color,onAddTag:e.addTag,onRemoveTag:e.removeTag},null,8,["tags","color","onAddTag","onRemoveTag"])])])}var Te=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},Ie=(0,a.aZ)({name:"TabGroupScaffold",components:{TagContainer:ce},props:["title","color","collapsed","countFrames","group"],data:function(){return{newTitle:this.title,editTitleMode:!1}},methods:{addTag:function(e){var t=Te([],this.group.tags,!0);t.push(e);var n={title:this.title,color:this.color,tags:t,updatedAt:Date.now()};oe.dispatch("upsertSavedGroups",n)},removeTag:function(e){var t=Te([],this.group.tags,!0).filter((function(t){return t!==e})),n={title:this.title,color:this.color,tags:t,updatedAt:Date.now()};oe.dispatch("upsertSavedGroups",n)},collapse:function(e){this.port.postMessage({kind:"collapse-tab-groups",group:this.group.id,collapse:e})},editTitle:function(){var e=this;this.editTitleMode=!0,this.$nextTick((function(){var t=e.$refs.input;t.focus()}))},removeGroup:function(){oe.dispatch("removeGroup",this.group.title)},changeColor:function(){var e=this.color;"grey"===this.color&&(e="blue"),"blue"===this.color&&(e="red"),"red"===this.color&&(e="yellow"),"yellow"===this.color&&(e="green"),"green"===this.color&&(e="pink"),"pink"===this.color&&(e="purple"),"purple"===this.color&&(e="cyan"),"cyan"===this.color&&(e="orange"),"orange"===this.color&&(e="grey"),this.port.postMessage({kind:"color-tab-groups",group:this.group.id,color:e})},saveNewTitle:function(){this.newTitle&&this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:this.newTitle}),this.editTitleMode=!1}}});const Ce=(0,w.Z)(Ie,[["render",_e],["__scopeId","data-v-41a3f3ce"]]);var Se=Ce,Ae={key:1,class:"toolbar"},Oe={class:"tag-input-container"},Me=["onClick","onDrag"],Ge=["placeholder"],qe={key:0,class:"addframe-container"},xe={key:1},Pe=["onClick"];function We(e,t,n,i,s,l){var c=(0,a.up)("TagListContainer"),d=(0,a.up)("ToolbarFrameUnit");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.isActive?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"toolbar-pre",onClick:t[0]||(t[0]=function(t){return e.isActive=!0})})),e.isActive?((0,a.wg)(),(0,a.iD)("div",Ae,[(0,a._)("div",Oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.search,(function(n,r){return(0,a.wg)(),(0,a.iD)("p",{class:"tag-input",key:r},[(0,a._)("span",{onClick:function(t){return e.removeTag(n)},draggable:"true",onDrag:function(t){return e.dragstart(n)},onDragend:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragend&&e.dragend.apply(e,t)})},(0,o.zw)(n),41,Me)])})),128)),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.input=t}),placeholder:e.placeholder,onFocusout:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.focusOut&&e.focusOut.apply(e,t)}),onKeydown:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.keydown&&e.keydown.apply(e,t)}),ref:"input"},null,40,Ge),[[r.nr,e.input]])]),e.isFrameSearch?((0,a.wg)(),(0,a.iD)("div",qe,[(0,a.Wm)(c,{tags:e.tags,class:"tag-list-container","initial-show":10,onAddTag:e.addTag},null,8,["tags","onAddTag"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.framesFiltered.slice(0,5),(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{class:"frames-container",key:n},[(0,a.Wm)(d,{frame:t,onSelected:e.addFrame},null,8,["frame","onSelected"])])})),128))])):(0,a.kq)("",!0),e.isGroupSearch?((0,a.wg)(),(0,a.iD)("div",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.groupsDataFiltered.slice(0,5),(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{class:"group-container",key:n},[(0,a._)("p",{onClick:function(n){return e.openGroup(t)},class:(0,o.C_)(t.color)},(0,o.zw)(t.title)+" - "+(0,o.zw)(t.tags.join(",")),11,Pe)])})),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)],64)}const Ee={class:"tags"},Fe=["onClick"],Ue={key:0};function Le(e,t,n,r,i,s){return(0,a.wg)(),(0,a.iD)("ul",Ee,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.items,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[(0,a._)("a",{href:"#",class:"tag",style:(0,o.j5)(s.getCount(e.count)),onClick:t=>s.selectTag(t,e)},(0,o.zw)(e.name),13,Fe)])))),128)),s.displayShow>0?((0,a.wg)(),(0,a.iD)("li",Ue,[(0,a._)("a",{class:"tag-add",onClick:t[0]||(t[0]=(...e)=>s.showMore&&s.showMore(...e))},"+"+(0,o.zw)(s.displayShow),1)])):(0,a.kq)("",!0)])}var je={name:"TagListContainer",emits:["addTag"],props:["tags","initialShow"],data(){return{styleObject:{"--count":"'12'"},moreToShow:0}},computed:{displayShow(){return this.tags.length-this.initialShow-this.moreToShow},slice(){return this.initialShow+this.moreToShow},items(){const e=JSON.parse(JSON.stringify(this.tags));return e.splice(0,this.slice).sort(((e,t)=>e.count<t.count?1:-1))}},methods:{showMore(){this.moreToShow+=10},getCount(e){return{"--count":`'${e}'`}},selectTag(e,t){this.$emit("addTag",t),e.preventDefault()}}};const Re=(0,w.Z)(je,[["render",Le],["__scopeId","data-v-2be40702"]]);var Ze=Re,ze={class:"frame-info-container",ref:"frame",id:"frame"},Be={class:"frame-info"},Ne={class:"frame-header"},He={class:"frame-header-left"},Ve=["src"],$e={class:"frame-footer"},Ye={class:"tags"};function Je(e,t,n,r,i,s){var l=(0,a.up)("TagContainer");return(0,a.wg)(),(0,a.iD)("a",{href:"#",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.click&&e.click.apply(e,t)})},[(0,a._)("div",ze,[(0,a._)("div",Be,[(0,a._)("div",Ne,[(0,a._)("div",He,[e.frame.favIconUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,Ve)):(0,a.kq)("",!0),(0,a._)("small",{class:(0,o.C_)({"current-selected":e.frame.isSelected})},(0,o.zw)(e.frame.title),3)])]),(0,a._)("div",$e,[(0,a._)("div",Ye,[(0,a.Wm)(l,{tags:e.frame.tags,"fixed-tags":e.frame.preProcessedTags},null,8,["tags","fixed-tags"])])])])],512)])}var Ke=(0,a.aZ)({name:"ToolbarFrameUnit",emits:["selected"],components:{TagContainer:ce},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const Xe=(0,w.Z)(Ke,[["render",Je],["__scopeId","data-v-73cf3ab0"]]);var Qe=Xe,et=(0,a.aZ)({name:"LineToolBar",components:{ToolbarFrameUnit:Qe,TagListContainer:Ze},props:["frames","frame","groupsData"],data:function(){return{search:[],isActive:!1,input:""}},watch:{isActive:function(e){var t=this;e&&this.$nextTick((function(){var e=t.$refs.input;e.focus()}))}},computed:{framesFiltered:function(){return ne(this.frames,this.search)},groupsDataFiltered:function(){if(this.input.length<=1)return this.groupsData;var e=this.input.substring(1);return this.groupsData.filter((function(t){return t.title.startsWith(e)}))},tags:function(){var e=this,t=Y(this.frames,this.search);return this.input.length>0?t.filter((function(t){return t.name.includes(e.input)})):t},placeholder:function(){return 0===this.search.length?"Start #,@ to select frame, or type '/' for command":"Add more tags here"},isFrameSearch:function(){return this.input.startsWith("#")||this.input.startsWith("@")||this.search.length>0},isGroupSearch:function(){return this.input.startsWith("/")||this.input.startsWith("/")&&this.search.length>0}},methods:{dragstart:function(e){var t={kind:"tag",draggerId:Math.floor(1e9*Math.random()).toFixed(0),object:e};oe.dispatch("setDragItem",t)},dragend:function(){oe.dispatch("setDragItem",null)},focusOut:function(){this.isFrameSearch||this.isGroupSearch||(this.isActive=!1)},removeTag:function(e){var t=this.search.findIndex((function(t){return t===e}));~t&&this.search.splice(t,1)},addFrame:function(e){this.port.postMessage({kind:"open-and-update",url:e.url,windowId:this.frame.windowId,index:this.frame.index+1,groupId:this.frame.groupId}),this.isActive=!1},addTag:function(e){this.input="",this.search.some((function(t){return t===e.name}))||this.search.push(e.name);var t=this.$refs.input;this.$nextTick((function(){t.focus()}))},openGroup:function(e){console.log(e),this.isActive=!1,this.input=""},keydown:function(e){var t=this;if("Escape"===e.code&&(this.isActive=!1,this.search=[],e.preventDefault()),"Backspace"===e.code&&0===this.input.length&&0===this.search.length&&(this.isActive=!1),"Backspace"===e.code&&0===this.input.length&&(this.search.pop(),e.preventDefault()),"Enter"===e.code&&this.input.length>1&&this.input.startsWith("#")){this.search.some((function(e){return e===t.input}))||this.search.push(this.input),this.input="",e.preventDefault();var n=this.$refs.input;this.$nextTick((function(){n.focus()}))}}}});const tt=(0,w.Z)(et,[["render",We],["__scopeId","data-v-1a104061"]]);var nt=tt,rt={key:0,class:"suggestion-show-container"},at={key:1,class:"suggestion-show-container"},it={key:2,class:"suggestions-container"};function ot(e,t,n,r,i,s){var l=(0,a.up)("MinimalFrameUnit");return(0,a.wg)(),(0,a.iD)(a.HY,null,[!e.isOpen&&e.hasSuggestions?((0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("span",{class:"suggestion-show",onClick:t[0]||(t[0]=function(t){return e.isOpen=!0})},[(0,a.Uk)(" Show "),(0,a._)("b",null,"+"+(0,o.zw)(e.frames.length),1),(0,a.Uk)(" tabs suggestions ")])])):(0,a.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,a.wg)(),(0,a.iD)("div",at,[(0,a._)("span",{class:"suggestion-show",onClick:t[1]||(t[1]=function(t){return e.isOpen=!1})}," hide suggestions ")])):(0,a.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,a.wg)(),(0,a.iD)("div",it,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.frames,(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t.id},[(0,a.Wm)(l,{frame:t,onSelected:e.selectedSuggestion},null,8,["frame","onSelected"])])})),128))])):(0,a.kq)("",!0)],64)}var st={class:"frame-info"},lt={class:"frame-header"},ct={class:"frame-header-left"},dt=["src"];function ut(e,t,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",{class:"frame-info-container",ref:"frame",id:"frame",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.click&&e.click.apply(e,t)})},[(0,a._)("div",st,[(0,a._)("div",lt,[(0,a._)("div",ct,[e.frame.favIconUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,dt)):(0,a.kq)("",!0),(0,a._)("small",{class:(0,o.C_)({"current-selected":e.frame.isSelected})},(0,o.zw)(e.frame.title),3)])])])],512)}var gt=(0,a.aZ)({name:"MinimalFrameUnit",emits:["selected"],components:{},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const ft=(0,w.Z)(gt,[["render",ut],["__scopeId","data-v-73fe5aad"]]);var pt=ft,mt=(0,a.aZ)({name:"SuggestionFrames",components:{MinimalFrameUnit:pt},props:["frames","group"],data:function(){return{isOpen:!1}},methods:{selectedSuggestion:function(e){this.port.postMessage({kind:"open-and-update",url:e.url,windowId:this.group.windowId,groupId:this.group.id})}},computed:{hasSuggestions:function(){return this.frames.length>0}}});const ht=(0,w.Z)(mt,[["render",ot],["__scopeId","data-v-8b954bbc"]]);var vt=ht,wt=(0,a.aZ)({name:"CurrentActiveTabs",props:["window","tags","frames","search","groupsData"],components:{SuggestionFrames:vt,LineToolBar:nt,TabGroupScaffold:Se,FrameDropArea:he,ActiveFrameUnit:ge},methods:{getTopFrameFromGroup:function(e,t){if(e>0)return this.window.tabs[t].frames[e-1];if(t>0){var n=this.window.tabs[t-1];if("group"===n.kind){var r=n;return r.frames[r.frames.length-1]}if("web"===n.kind)return n}}}});const kt=(0,w.Z)(wt,[["render",T],["__scopeId","data-v-f58afa84"]]);var Dt=kt,bt={name:"ActiveAndFramesView",props:["renderData"],components:{CurrentActiveTabs:Dt,TabContainer:D}};const yt=(0,w.Z)(bt,[["render",g]]);var _t=yt;function Tt(e,t,n,r,i,o){const s=(0,a.up)("SearchBar"),l=(0,a.up)("TabContainer"),c=(0,a.up)("FramesContainer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{class:"sticky",title:"search bar","default-activation":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"render-data":n.renderData},null,8,["render-data"])])),_:1}),(0,a.Wm)(l,{title:"frames","default-activation":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"render-data":n.renderData},null,8,["render-data"])])),_:1})],64)}var It={class:"search-container"},Ct={class:"tag-input-container"},St=["onClick","draggable","onDrag"];function At(e,t,n,i,s,l){var c=(0,a.up)("TagListContainer");return(0,a.wg)(),(0,a.iD)("div",It,[(0,a._)("div",Ct,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.renderData.search,(function(n,r){return(0,a.wg)(),(0,a.iD)("p",{class:"tag-input",key:r},[(0,a._)("span",{onClick:function(t){return e.removeTag(n)},draggable:n.includes("#"),onDrag:function(t){return e.dragstart(n)},onDragend:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragend&&e.dragend.apply(e,t)})},(0,o.zw)(n),41,St)])})),128)),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchInput=t}),onKeydown:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.keydown&&e.keydown.apply(e,t)}),ref:"input"},null,544),[[r.nr,e.searchInput]])]),(0,a.Wm)(c,{tags:e.showTags,class:"tag-list-container",onAddTag:e.addTag},null,8,["tags","onAddTag"])])}const Ot={class:"tags"},Mt=["onClick"],Gt=["onClick","onDragstart"];function qt(e,t,n,r,i,s){return(0,a.wg)(),(0,a.iD)("ul",Ot,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tags,((e,n)=>((0,a.wg)(),(0,a.iD)("li",{key:n},["preProcessed"===e.kind?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"#",class:"tag",style:(0,o.j5)(s.getCount(e.count)),onClick:t=>s.selectTag(e),draggable:"false"},(0,o.zw)(e.name),13,Mt)):(0,a.kq)("",!0),"tag"===e.kind?((0,a.wg)(),(0,a.iD)("a",{key:1,href:"#",class:"tag",style:(0,o.j5)(s.getCount(e.count)),onClick:t=>s.selectTag(e),draggable:"true",onDragstart:t=>s.dragstart(e.name),onDragend:t[0]||(t[0]=(...e)=>s.dragend&&s.dragend(...e))},(0,o.zw)(e.name),45,Gt)):(0,a.kq)("",!0)])))),128))])}var xt={name:"TagListContainer",emits:["addTag"],props:["tags"],data(){return{styleObject:{"--count":"'12'"}}},computed:{},methods:{getCount(e){return{"--count":`'${e}'`}},selectTag(e){this.$emit("addTag",e.name)},dragstart(e){const t={kind:"tag",object:e};oe.dispatch("setDragItem",t)},dragend(){oe.dispatch("setDragItem",null)}}};const Pt=(0,w.Z)(xt,[["render",qt],["__scopeId","data-v-5399cc32"]]);var Wt=Pt,Et=(0,a.aZ)({name:"SearchBar",props:["renderData"],components:{TagListContainer:Wt},data:function(){return{searchInput:""}},computed:{showTags:function(){var e=this;return this.searchInput.length>0?this.renderData.tags.filter((function(t){return t.name.toLowerCase().includes(e.searchInput.toLowerCase())})):this.renderData.tags}},methods:{removeTag:function(e){oe.dispatch("removeSearchItem",e)},addTag:function(e){this.searchInput="",oe.dispatch("addSearchItem",e)},keydown:function(e){"Enter"===e.code&&this.searchInput.length>1&&(oe.dispatch("addSearchItem",this.searchInput.startsWith("#")?this.searchInput:"#"+this.searchInput),this.searchInput="",e.preventDefault())},dragstart:function(e){var t={kind:"tag",object:e};oe.dispatch("setDragItem",t)},dragend:function(){oe.dispatch("setDragItem",null)}}});const Ft=(0,w.Z)(Et,[["render",At],["__scopeId","data-v-ed2ca034"]]);var Ut=Ft,Lt={key:0,class:"frames-container"};function jt(e,t,n,r,i,o){var s=(0,a.up)("FrameUnit"),l=(0,a.up)("TagContainer"),c=(0,a.up)("FramesScaffold");return e.renderData&&e.renderData.frames?((0,a.wg)(),(0,a.iD)("div",Lt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.renderData.searchPinneds,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(c,{pinned:e},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.frames,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(s,{frame:e},null,8,["frame"])])})),128)),(0,a.Wm)(l,{tags:e.tags,"fixed-tags":e.preProcessedTags},null,8,["tags","fixed-tags"])]})),_:2},1032,["pinned"])])})),128))])):(0,a.kq)("",!0)}var Rt={class:"frame-footer-drag"},Zt={class:"frame-info"},zt={class:"frame-header"},Bt={class:"frame-header-left"},Nt=["src"],Ht={class:"frame-header-right"},Vt={class:"title-container"},$t={class:"tags"};function Yt(e,t,n,i,s,l){var c=(0,a.up)("font-awesome-icon"),d=(0,a.up)("TagContainer");return(0,a.wg)(),(0,a.iD)("div",{class:"frame-info-container",draggable:"true",onDragend:t[4]||(t[4]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragend&&e.dragend.apply(e,t)}),onDragstart:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragstart&&e.dragstart.apply(e,t)}),ref:"frame",id:"frame"},[(0,a._)("small",Rt,[(0,a.Wm)(c,{icon:"bars"})]),(0,a._)("div",Zt,[(0,a._)("div",zt,[(0,a._)("div",Bt,[e.frame.favIconUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,Nt)):(0,a.kq)("",!0),(0,a._)("small",null,(0,o.zw)(e.frame.domain),1)]),(0,a._)("div",Ht,[e.frame.isPinned?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"frame-header-pinned pinned",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.unpinTab&&e.unpinTab.apply(e,t)}),title:"unpin current tab"},[(0,a.Wm)(c,{icon:"thumbtack"})])):(0,a.kq)("",!0),e.frame.isPinned?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"frame-header-pinned",onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.pinTab&&e.pinTab.apply(e,t)}),title:"pin current tab"},[(0,a.Wm)(c,{icon:"thumbtack"})])),e.frame.isOpened?((0,a.wg)(),(0,a.iD)("div",{key:2,class:"frame-header-close",onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.closeTab&&e.closeTab.apply(e,t)}),title:"close current tab"},[(0,a.Wm)(c,{icon:"xmark"})])):(0,a.kq)("",!0)])]),(0,a._)("div",Vt,[(0,a._)("h1",{class:(0,o.C_)(["frame-title",{"current-selected":e.frame.isSelected}]),onClick:t[3]||(t[3]=(0,r.iM)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goToPage&&e.goToPage.apply(e,t)}),["exact"]))},(0,o.zw)(e.frame.title),3)]),(0,a._)("div",$t,[(0,a.Wm)(d,{tags:e.frame.tags,"fixed-tags":e.frame.preProcessedTags,onClickedTag:e.clickedTag},null,8,["tags","fixed-tags","onClickedTag"])])])],544)}var Jt=(0,a.aZ)({name:"FrameUnit",emits:[],components:{TagContainer:ce},props:["frame","activeTab"],data:function(){return{frameId:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{dragItem:function(){return oe.getters.dragItem}},methods:{dragstart:function(e){if("frame"===e.toElement.id){var t=this.$refs.frame;t.style.opacity="0.4";var n={draggerId:this.frameId,kind:"frame",object:this.frame};oe.dispatch("setDragItem",n)}},dragover:function(){oe.dispatch("setDropperId",this.frameId)},dragend:function(){var e=this.$refs.frame;e.style.opacity="1",oe.dispatch("setDragItem",null)},clickedTag:function(e){oe.dispatch("addSearchItem",e)},pinTab:function(){this.frame.isOpened?this.port.postMessage({kind:"pin-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url,pinned:!0})},unpinTab:function(){this.port.postMessage({kind:"unpin-tab",tab:this.frame.id})},closeTab:function(){this.port.postMessage({kind:"close-tabs",tab:this.frame.id})},goToPage:function(){this.frame.isOpened?this.port.postMessage({kind:"open-request-existing-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url})}}});const Kt=(0,w.Z)(Jt,[["render",Yt],["__scopeId","data-v-f79514f8"]]);var Xt=Kt,Qt={class:"scafold-container"},en={class:"header"},tn={class:"left-header"},nn={key:0},rn={class:"right-header"};function an(e,t,n,r,i,s){var l=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",Qt,[(0,a._)("div",en,[(0,a._)("div",tn,[e.finalCollapsed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["input",e.color]),onClick:t[0]||(t[0]=function(t){return e.collapse(!0)})},"-",2)),e.finalCollapsed?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,o.C_)(["input",e.color]),onClick:t[1]||(t[1]=function(t){return e.collapse(!1)})},"+",2)):(0,a.kq)("",!0),(0,a._)("label",{class:(0,o.C_)(e.color)},[(0,a.Uk)((0,o.zw)(e.pinned.isDefault?"default":e.tags.join(","))+" ",1),e.finalCollapsed?((0,a.wg)(),(0,a.iD)("span",nn," - "+(0,o.zw)(e.pinned.frames.length)+" item(s)",1)):(0,a.kq)("",!0)],2),e.finalCollapsed?((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,o.C_)(["collapsed",e.color])},null,2)):(0,a.kq)("",!0)]),(0,a._)("div",rn,[e.pinned.isDefault||e.pinned.pinned?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"right-pin",onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.save&&e.save.apply(e,t)})},[(0,a._)("span",null,[(0,a.Wm)(l,{icon:"thumbtack"}),(0,a.Uk)(" pin")])])),!e.pinned.isDefault&&e.pinned.pinned?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"right-pin",onClick:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.save&&e.save.apply(e,t)})},[(0,a._)("span",null,[(0,a.Wm)(l,{icon:"thumbtack"}),(0,a.Uk)(" unpin")])])):(0,a.kq)("",!0)])]),e.finalCollapsed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["content",e.color])},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2))])}var on=(0,a.aZ)({name:"FramesScaffold",props:["groupId","pinned"],data:function(){return{color:"grey",forceCollapse:null}},computed:{finalCollapsed:function(){return!this.pinned.isDefault&&(null!==this.forceCollapse?this.forceCollapse:this.pinned.collapsed)},tags:function(){return this.pinned.tags.concat(this.pinned.preProcessedTags)}},methods:{collapse:function(e){this.forceCollapse=e},changeColor:function(){var e=this.color;"grey"===this.color&&(e="blue"),"blue"===this.color&&(e="red"),"red"===this.color&&(e="yellow"),"yellow"===this.color&&(e="green"),"green"===this.color&&(e="pink"),"pink"===this.color&&(e="purple"),"purple"===this.color&&(e="cyan"),"cyan"===this.color&&(e="orange"),"orange"===this.color&&(e="grey"),this.color=e}}});const sn=(0,w.Z)(on,[["render",an],["__scopeId","data-v-0dbc5d7b"]]);var ln=sn,cn=(0,a.aZ)({name:"FramesContainer",components:{TagContainer:ce,FramesScaffold:ln,FrameUnit:Xt},props:["renderData"]});const dn=(0,w.Z)(cn,[["render",jt],["__scopeId","data-v-2deb3b6b"]]);var un=dn,gn={name:"FramesView",props:["renderData"],components:{FramesContainer:un,TabContainer:D,SearchBar:Ut}};const fn=(0,w.Z)(gn,[["render",Tt],["__scopeId","data-v-62b295e9"]]);var pn=fn;function mn(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("h1",null,"How to install lomni plugin")}var hn={name:"PluginInstallView",mounted(){}};const vn=(0,w.Z)(hn,[["render",mn]]);var wn=vn;function kn(e,t,n,r,i,o){const s=(0,a.up)("SetStorageContainer"),l=(0,a.up)("TabContainer"),c=(0,a.up)("GistPushData"),d=(0,a.up)("GistPullData");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{title:"config","default-activation":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1}),"gist"===o.storage.kind?((0,a.wg)(),(0,a.j4)(l,{key:0,title:"gist push data","default-activation":!0,padding:"5px","padding-left":"10px","is-inner":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})):(0,a.kq)("",!0),"gist"===o.storage.kind?((0,a.wg)(),(0,a.j4)(l,{key:1,title:"gist pull data","default-activation":!1,padding:"5px","padding-left":"10px","is-inner":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(d)])),_:1})):(0,a.kq)("",!0)],64)}const Dn={class:"form"},bn={key:0,class:"lm-form_line"},yn={class:"lm-columns"},_n={class:"lm-column"},Tn=(0,a._)("label",null,"default storage name:",-1),In=(0,a._)("br",null,null,-1),Cn=["disabled"],Sn={class:"lm-form_line"},An={class:"lm-columns"},On={class:"lm-column"},Mn=(0,a._)("label",null,"Storage kind:",-1),Gn=["disabled"],qn=(0,a._)("option",null,"local",-1),xn=(0,a._)("option",null,"gist",-1),Pn=[qn,xn],Wn={key:1,class:"lm-form_line"},En={class:"lm-columns"},Fn={class:"lm-column"},Un=(0,a._)("label",null,"gist access key:",-1),Ln=(0,a._)("br",null,null,-1),jn=["disabled"],Rn={class:"lm-column"},Zn=(0,a._)("label",null,"gist ID:",-1),zn=(0,a._)("br",null,null,-1),Bn=["disabled"],Nn={class:"bottom-button-container"};function Hn(e,t,n,i,o,s){return(0,a.wg)(),(0,a.iD)("div",Dn,["gist"===s.storage.kind?((0,a.wg)(),(0,a.iD)("div",bn,[(0,a._)("div",yn,[(0,a._)("div",_n,[Tn,In,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.storage.name=e),disabled:!o.editMode},null,8,Cn),[[r.nr,s.storage.name]])])])])):(0,a.kq)("",!0),(0,a._)("div",Sn,[(0,a._)("div",An,[(0,a._)("div",On,[Mn,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.storage.kind=e),disabled:!o.editMode},Pn,8,Gn),[[r.bM,s.storage.kind]])])])]),"gist"===s.storage.kind?((0,a.wg)(),(0,a.iD)("div",Wn,[(0,a._)("div",En,[(0,a._)("div",Fn,[Un,Ln,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.storage.accessKey=e),disabled:!o.editMode},null,8,jn),[[r.nr,s.storage.accessKey]])]),(0,a._)("div",Rn,[Zn,zn,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.storage.gistID=e),disabled:!o.editMode},null,8,Bn),[[r.nr,s.storage.gistID]])])])])):(0,a.kq)("",!0),(0,a._)("div",Nn,[o.editMode?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"grey",onClick:t[4]||(t[4]=e=>o.editMode=!0)},"edit")),o.editMode?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"yellow",onClick:t[5]||(t[5]=e=>s.setStorage())},"save")):(0,a.kq)("",!0)])])}var Vn={name:"SetStorageContainer",data(){return{octokit:null,editMode:!1}},computed:{storage(){return oe.getters.storage}},methods:{setStorage(){this.editMode=!1,oe.dispatch("setStorage",this.storage)}}};const $n=(0,w.Z)(Vn,[["render",Hn]]);var Yn=$n;const Jn=e=>((0,a.dD)("data-v-40e0ecb3"),e=e(),(0,a.Cn)(),e),Kn={class:"container"},Xn={key:0,class:"overview"},Qn={class:"overview-item add"},er={class:"overview-item remove"},tr={class:"overview-item change"},nr={key:1,class:"overview"},rr=Jn((()=>(0,a._)("div",{class:"overview-item add"},"add: - ",-1))),ar=Jn((()=>(0,a._)("div",{class:"overview-item remove"},"remove: - ",-1))),ir=Jn((()=>(0,a._)("div",{class:"overview-item change"},"modify: - ",-1))),or=[rr,ar,ir],sr={key:1,class:"detail-container"},lr={class:"detail-container-removed"},cr=["src"],dr={class:"remove"},ur={class:"bottom-button-container"},gr=["disabled"],fr={key:2,class:"error"};function pr(e,t,n,r,i,s){const l=(0,a.up)("LoadingContainer");return(0,a.wg)(),(0,a.iD)("div",Kn,[i.isLoading?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),(0,a._)("div",null,[i.mergedData?((0,a.wg)(),(0,a.iD)("div",Xn,[(0,a._)("div",Qn,"add: "+(0,o.zw)(i.mergedData.itemsAdded.length),1),(0,a._)("div",er,"remove: "+(0,o.zw)(i.mergedData.itemsRemoved.length),1),(0,a._)("div",tr,"modify: "+(0,o.zw)(i.mergedData.itemsModified.length),1)])):(0,a.kq)("",!0),i.mergedData?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",nr,or))]),i.mergedData?((0,a.wg)(),(0,a.iD)("div",sr,[(0,a._)("div",lr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.mergedData.itemsRemoved,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"item",key:t},[(0,a._)("img",{src:e.favIconUrl,width:"16"},null,8,cr),(0,a._)("small",dr,(0,o.zw)(e.title),1)])))),128))])])):(0,a.kq)("",!0),(0,a._)("div",ur,[(0,a._)("button",{class:"yellow",onClick:t[0]||(t[0]=(...e)=>s.fetchData&&s.fetchData(...e))},"fetch data"),(0,a._)("button",{class:"blue",onClick:t[1]||(t[1]=(...e)=>s.pushData&&s.pushData(...e)),disabled:!(i.mergedData&&i.mergedData.hasChanges)},"push",8,gr)]),i.error?((0,a.wg)(),(0,a.iD)("small",fr,"Error: "+(0,o.zw)(i.error),1)):(0,a.kq)("",!0)])}var mr=n(3642),hr=n(7063);function vr(e,t,n){var r=JSON.parse(JSON.stringify(t)),a=[],i=new Array,o=[],s=!1;return e.forEach((function(e){var o=!!e.url,l=!!e.content,c=!!e.color,d=t.findIndex((function(t){return o?t.url===e.url:c?t.title===e.title:t.id===e.id}));~d?(e.updatedAt>t[d].updatedAt||n&&e.updatedAt<t[d].updatedAt)&&(s=!0,o&&i.push(wr(e,r[d])),l&&i.push(kr(e,r[d])),c&&i.push(Dr(e,r[d])),r[d]=e):(s=!0,a.push(e),r.push(e))})),r=r.filter((function(t){var n=!!t.url,r=!!t.color,a=e.findIndex((function(e){return n?e.url===t.url:r?e.title===t.title:e.id===t.id}));return-1!==a||(s=!0,o.push(t),!1)})),{hasChanges:s,frames:r,itemsRemoved:o,itemsAdded:a,itemsModified:i}}function wr(e,t){var n=null,r=null;e.comment!==t.comment&&(r=t.comment?t.comment:"",n=e.comment?e.comment:"");var a=null,i=null;e.title!==t.title&&(a=e.title?e.title:null,i=t.title?t.title:null);var o=e.tags?e.tags.filter((function(e){return!(t.tags&&t.tags.includes(e))})):[],s=t.tags?t.tags.filter((function(t){return!(e.tags&&e.tags.includes(t))})):[];return{url:e.url,newComment:n,oldComment:r,newTitle:a,oldTitle:i,tagsToAdd:o,tagsToRemove:s}}function kr(e,t){var n=null,r=null;e.content!==t.content&&(r=t.content?t.content:"",n=e.content?e.content:"");var a=e.tags?e.tags.filter((function(e){return!(t.tags&&t.tags.includes(e))})):[],i=t.tags?t.tags.filter((function(t){return!(e.tags&&e.tags.includes(t))})):[];return{oldContent:r,newContent:n,tagsToAdd:a,tagsToRemove:i}}function Dr(e,t){var n=null,r=null;e.title!==t.title&&(r=t.title?t.title:"",n=e.title?e.title:"");var a=e.tags?e.tags.filter((function(e){return!(t.tags&&t.tags.includes(e))})):[],i=t.tags?t.tags.filter((function(t){return!(e.tags&&e.tags.includes(t))})):[];return{oldTitle:r,newTitle:n,tagsToAdd:a,tagsToRemove:i}}const br=e=>((0,a.dD)("data-v-1369f520"),e=e(),(0,a.Cn)(),e),yr={class:"loading-container"},_r=br((()=>(0,a._)("div",{class:"ring-container"},[(0,a._)("div",{class:"lds-dual-ring"})],-1))),Tr=[_r];function Ir(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",yr,Tr)}var Cr={name:"LoadingContainer"};const Sr=(0,w.Z)(Cr,[["render",Ir],["__scopeId","data-v-1369f520"]]);var Ar=Sr,Or={name:"GistPushData",components:{LoadingContainer:Ar},data(){return{error:null,mergedData:null,isLoading:!1}},methods:{fetchData(){this.error=null,this.isLoading=!0;const e=oe.getters.storage,t=new mr.vd({auth:e.accessKey});t.rest.users.getAuthenticated().then((()=>{t.rest.gists.get({gist_id:e.gistID}).then((t=>{const n=`${e.name}_frames.json`,r=t.data.files[n];if(r){const e=JSON.parse(r.content),t=(0,hr.Lj)(e);this.mergedData=vr(oe.getters.rawFullData,t)}else this.mergedData=vr(oe.getters.rawFullData,[])})).finally((()=>this.isLoading=!1))})).catch((e=>{this.isLoading=!1,this.error=e.message}))},pushData(){this.error=null,this.isLoading=!0;const e={},t=oe.getters.storage;e[t.name+"_frames.json"]={content:JSON.stringify((0,hr.nN)(this.mergedData.frames))};const n=new mr.vd({auth:t.accessKey});n.rest.users.getAuthenticated().then((()=>{n.rest.gists.update({gist_id:t.gistID,files:e}).then((()=>{this.mergedData=null})).catch((e=>{this.error=e.message})).finally((()=>{this.isLoading=!1}))})).catch((e=>{this.isLoading=!1,this.error=e.message}))}}};const Mr=(0,w.Z)(Or,[["render",pr],["__scopeId","data-v-40e0ecb3"]]);var Gr=Mr;const qr=e=>((0,a.dD)("data-v-1e716d46"),e=e(),(0,a.Cn)(),e),xr={class:"container"},Pr={key:0,class:"overview"},Wr={class:"overview-item add"},Er={class:"overview-item remove"},Fr={class:"overview-item change"},Ur={key:1,class:"overview"},Lr=qr((()=>(0,a._)("div",{class:"overview-item add"},"add: - ",-1))),jr=qr((()=>(0,a._)("div",{class:"overview-item remove"},"remove: - ",-1))),Rr=qr((()=>(0,a._)("div",{class:"overview-item change"},"modify: - ",-1))),Zr=[Lr,jr,Rr],zr={class:"bottom-button-container"},Br=["disabled"],Nr={key:1,class:"error"};function Hr(e,t,n,r,i,s){const l=(0,a.up)("LoadingContainer");return(0,a.wg)(),(0,a.iD)("div",xr,[i.isLoading?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),(0,a._)("div",null,[i.mergedData?((0,a.wg)(),(0,a.iD)("div",Pr,[(0,a._)("div",Wr,"add: "+(0,o.zw)(i.mergedData.itemsAdded.length),1),(0,a._)("div",Er,"remove: "+(0,o.zw)(i.mergedData.itemsRemoved.length),1),(0,a._)("div",Fr,"modify: "+(0,o.zw)(i.mergedData.itemsModified.length),1)])):(0,a.kq)("",!0),i.mergedData?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ur,Zr))]),(0,a._)("div",zr,[(0,a._)("button",{class:"yellow",onClick:t[0]||(t[0]=(...e)=>s.fetchData&&s.fetchData(...e))},"fetch data"),(0,a._)("button",{class:"blue",onClick:t[1]||(t[1]=(...e)=>s.pullData&&s.pullData(...e)),disabled:!(i.mergedData&&i.mergedData.hasChanges)},"pull",8,Br)]),i.error?((0,a.wg)(),(0,a.iD)("small",Nr,"Error: "+(0,o.zw)(i.error),1)):(0,a.kq)("",!0)])}var Vr={name:"GistPullData",components:{LoadingContainer:Ar},data(){return{error:null,mergedData:null,isLoading:!1}},methods:{fetchData(){this.error=null,this.isLoading=!0;const e=oe.getters.storage,t=new mr.vd({auth:e.accessKey});t.rest.users.getAuthenticated().then((()=>{t.rest.gists.get({gist_id:e.gistID}).then((t=>{const n=`${e.name}_frames.json`,r=t.data.files[n];if(r){const e=JSON.parse(r.content),t=(0,hr.Lj)(e);this.mergedData=vr(t,oe.getters.rawFullData,!0)}else this.error="cannot find previews data"})).finally((()=>this.isLoading=!1))})).catch((e=>{this.isLoading=!1,this.error=e.message}))},pullData(){oe.dispatch("pullData",this.mergedData.frames),this.error=null,this.mergedData=null}}};const $r=(0,w.Z)(Vr,[["render",Hr],["__scopeId","data-v-1e716d46"]]);var Yr=$r,Jr={name:"SyncView",components:{GistPullData:Yr,GistPushData:Gr,SetStorageContainer:Yn,TabContainer:D},computed:{storage(){return oe.getters.storage}}};const Kr=(0,w.Z)(Jr,[["render",kn]]);var Xr=Kr,Qr=(0,a.aZ)({name:"SidebarView",components:{SyncView:Xr,PluginInstallView:wn,FramesView:pn,TabsView:_t},data:function(){return{selected:"tabs",hasPlugin:!1}},computed:{renderData:function(){return oe.getters.renderData}},methods:{select:function(e){this.selected=e,this.$emit("selected",e)}},mounted:function(){this.port&&(this.hasPlugin=!0,this.port.postMessage({kind:"all-tabs-request"}),this.port.postMessage({kind:"all-tab-groups-request"}),oe.dispatch("loadState"))}});const ea=(0,w.Z)(Qr,[["render",c],["__scopeId","data-v-3c738d16"]]);var ta=ea,na={components:{SidebarView:ta}};const ra=(0,w.Z)(na,[["render",i]]);var aa=ra,ia=n(1373),oa=function(e,t,n,r){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?n(e.value):a(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))},sa=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},la=function(){function e(){}return Object.defineProperty(e.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return oa(this,void 0,void 0,(function(){var t;return sa(this,(function(n){return t=new mr.vd({auth:e}),console.log(t),t.rest.users.getAuthenticated().then((function(e){return console.log("success"),e})).catch((function(e){return console.log("error: ",e),!1})),[2]}))}))}}),e}(),ca=function(e,t,n,r){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?n(e.value):a(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())}))},da=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ua=function(){function e(e,t){Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"port",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.emitter=t,this.id=e}return Object.defineProperty(e.prototype,"connect",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.port=chrome.runtime.connect(this.id,{name:"dashboard"}),this.port.onMessage.addListener((function(t){"load-response"===t.kind&&e.emitter.emit("load-response",t),"all-tabs-response"===t.kind&&(console.log("all-tabs-response:: ",t.data),oe.dispatch("setAllTabs",t.data)),"all-tab-groups-response"===t.kind&&(console.log("all-tab-groups-response:: ",t.data),oe.dispatch("setAllTabGroups",t.data))})),this.port.onDisconnect.addListener((function(){setTimeout((function(){e.connect()}),100),console.log("port.onDisconnect")}))}}),Object.defineProperty(e.prototype,"postMessage",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return ca(this,void 0,void 0,(function(){return da(this,(function(t){return this.port.postMessage(e),[2]}))}))}}),e}(),ga=n(3494),fa=n(8539),pa=n(7749);ga.vI.add(fa.Mdf,fa.Xcf,fa.EdJ,fa.$aW,fa.bgy,fa.wlW,fa.g6h,fa.RP7,fa.CPW,fa.g82,fa.kZ_,fa.xiG,fa.tU8,fa.B7S,fa.IyC,fa.UOM,fa.ihg,fa.Tab,fa.go9,fa.WM4,fa.fV7);var ma=(0,ia.Z)(),ha=(0,r.ri)(aa);try{var va=new ua("aekckpbdaninhmbbajcpedhaidaeofdh",ma);va.connect(),ha.config.globalProperties.port=va}catch(wa){console.log("error!")}ha.config.globalProperties.emitter=ma,ha.config.globalProperties.github=new la,ha.use(oe).component("font-awesome-icon",pa.GN).mount("#app")},5696:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],s=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self["webpackChunklomni"]=self["webpackChunklomni"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7044)}));r=n.O(r)})();
//# sourceMappingURL=app.34999fcf.js.map