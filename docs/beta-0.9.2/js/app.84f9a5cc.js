(function(){var e={4769:function(e,t,r){"use strict";var n=r(9242),o=r(3396);function a(e,t,r,n,a,i){const s=(0,o.up)("SidebarView");return(0,o.wg)(),(0,o.j4)(s)}var i=r(7139),s={key:0},u={class:"sticky"};function l(e,t,r,n,a,l){var c=(0,o.up)("font-awesome-icon"),d=(0,o.up)("TabsView"),g=(0,o.up)("BookmarksView"),f=(0,o.up)("PluginInstallView");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.hasPlugin?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("ul",u,[(0,o._)("li",{class:(0,i.C_)({active:"tabs"===this.selected}),onClick:t[0]||(t[0]=function(t){return e.select("tabs")})},[(0,o.Wm)(c,{icon:"tv"}),(0,o.Uk)(" Bars ")],2),(0,o._)("li",{class:(0,i.C_)({active:"frames"===this.selected}),onClick:t[1]||(t[1]=function(t){return e.select("frames")})},[(0,o.Wm)(c,{icon:"star"}),(0,o.Uk)(" Bookmarks ")],2)]),e.renderData&&"tabs"===e.selected?((0,o.wg)(),(0,o.j4)(d,{key:0,"render-data":e.renderData},null,8,["render-data"])):(0,o.kq)("",!0),e.renderData&&"frames"===e.selected?((0,o.wg)(),(0,o.j4)(g,{key:1,"bookmark-window":e.bookmarkWindow},null,8,["bookmark-window"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.hasPlugin?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(f,{key:1}))],64)}const c={key:0},d={key:1};function g(e,t,r,n,a,i){const s=(0,o.up)("CurrentActiveTabs"),u=(0,o.up)("TabContainer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.renderData.windows&&1===r.renderData.windows.length?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(s,{window:r.renderData.windows[0],tags:r.renderData.tags,search:r.renderData.search,frames:r.renderData.frames,"groups-data":r.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])):(0,o.kq)("",!0),r.renderData.windows&&r.renderData.windows.length>1?((0,o.wg)(),(0,o.iD)("div",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.renderData.windows,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o.Wm)(u,{title:"current tab: "+e.name,"default-activation":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{window:e,tags:r.renderData.tags,search:r.renderData.search,frames:r.renderData.frames,"groups-data":r.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])),_:2},1032,["title"])])))),128))])):(0,o.kq)("",!0)],64)}const f=e=>((0,o.dD)("data-v-7a2ff513"),e=e(),(0,o.Cn)(),e),p={id:"tab",ref:"tab",class:"tab"},m=f((()=>(0,o._)("input",{type:"checkbox"},null,-1)));function h(e,t,r,a,s,u){return(0,o.wg)(),(0,o.iD)("div",p,[m,(0,o._)("label",{class:(0,i.C_)(["tab-label",{"label-open":u.isActive}]),onClick:t[0]||(t[0]=(...e)=>u.openTab&&u.openTab(...e)),draggable:"true"},(0,i.zw)(r.title),3),(0,o.wy)((0,o._)("div",{class:(0,i.C_)(["tab-content",{border:r.useBorder}]),ref:"content"},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2),[[n.F8,u.isActive]])],512)}var k={name:"TabContainer",props:["title","defaultActivation","useBorder"],data(){return{isActiveButton:null,lastOffetY:null}},watch:{},computed:{isActive(){return null===this.isActiveButton?this.defaultActivation:this.isActiveButton}},methods:{openTab(){null===this.isActiveButton&&this.defaultActivation||this.isActiveButton?this.isActiveButton=!1:this.isActiveButton=!0}}},v=r(89);const w=(0,v.Z)(k,[["render",h],["__scopeId","data-v-7a2ff513"]]);var b=w,T={class:"active-frame-container"},D={key:0},y={key:1};function I(e,t,r,n,a,i){var s=(0,o.up)("ToolBar"),u=(0,o.up)("ActiveFrameUnit"),l=(0,o.up)("FrameDropArea"),c=(0,o.up)("SuggestionFrames"),d=(0,o.up)("TabGroupScaffold");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s,{class:"toolbar",frames:e.frames,"groups-data":e.groupsData,search:e.search,tags:e.tags},null,8,["frames","groups-data","search","tags"]),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.window.pinneds,(function(e,t){return(0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o.Wm)(u,{frame:e},null,8,["frame"])])})),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.window.tabs,(function(t,r){return(0,o.wg)(),(0,o.iD)("div",{key:r},["web"===t.kind?((0,o.wg)(),(0,o.iD)("div",D,[(0,o.Wm)(l,{"frame-bottom":t,"frame-top":r>0?e.window.tabs[r-1]:-1},null,8,["frame-bottom","frame-top"]),(0,o.Wm)(u,{frame:t},null,8,["frame"])])):(0,o.kq)("",!0),"group"===t.kind?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(d,{title:t.title,color:t.color,collapsed:t.collapsed,group:t,"count-frames":t.frames.length},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.frames,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{key:n},[(0,o.Wm)(l,{"frame-bottom":t,"frame-top":e.getTopFrameFromGroup(n,r)},null,8,["frame-bottom","frame-top"]),(0,o.Wm)(u,{frame:t},null,8,["frame"])])})),128)),(0,o.Wm)(c,{frames:t.suggestedFrames,group:t},null,8,["frames","group"])]})),_:2},1032,["title","color","collapsed","group","count-frames"])])):(0,o.kq)("",!0)])})),128))])],64)}var _={ref:"framePlc"},S={class:"frame-info"},C={key:0,class:"edit-title"},M=["src"],A={key:1,class:"frame-header-left"},O=["src"],W={key:2,class:"frame-header-right"},B={key:0,class:"frame-volume",title:"meeting"};function E(e,t,r,a,s,u){var l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("TagContainer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("a",_,null,512),(0,o._)("div",{class:(0,i.C_)(["frame-info-container",{open:e.frame.isSelected}]),draggable:"true",onDragend:t[12]||(t[12]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.dragend&&e.dragend.apply(e,t)}),onDragstart:t[13]||(t[13]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.dragstart&&e.dragstart.apply(e,t)}),ref:"frame",id:"frame"},[(0,o._)("div",S,[(0,o._)("div",{class:"frame-header",onClick:t[11]||(t[11]=(0,n.iM)((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.goToPage&&e.goToPage.apply(e,t)}),["exact"]))},[e.editTitle?((0,o.wg)(),(0,o.iD)("div",C,[e.frame.favIconUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,M)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newTitle=t})},null,512),[[n.nr,e.newTitle]]),(0,o.Wm)(l,{class:"accept",icon:"circle-check",onClick:e.upsertBookmark},null,8,["onClick"]),(0,o.Wm)(l,{class:"cancel",icon:"xmark",onClick:t[1]||(t[1]=function(t){return e.editTitle=!1})})])):(0,o.kq)("",!0),e.editTitle?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",A,[e.frame.favIconUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,O)):(0,o.kq)("",!0),(0,o._)("p",{class:(0,i.C_)(["frame-title",{"current-selected":e.frame.isSelected}]),onDblclick:t[2]||(t[2]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.toEditMode&&e.toEditMode.apply(e,t)})},(0,i.zw)(e.frame.title),35)])),e.editTitle?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",W,[e.frame.audible?((0,o.wg)(),(0,o.iD)("div",B,[(0,o.Wm)(l,{icon:"volume-up"})])):(0,o.kq)("",!0),(0,o._)("div",{class:"frame-header-clone",onClick:t[3]||(t[3]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.clone&&e.clone.apply(e,t)}),title:"clone frame"},[(0,o.Wm)(l,{icon:"clone"})]),-1===this.frame.groupId?((0,o.wg)(),(0,o.iD)("div",{key:1,class:"frame-header-group",onClick:t[4]||(t[4]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.newGroupTab&&e.newGroupTab.apply(e,t)}),title:"add tab to group"},[(0,o.Wm)(l,{icon:"object-group"})])):(0,o.kq)("",!0),this.frame.groupId>-1?((0,o.wg)(),(0,o.iD)("div",{key:2,class:"frame-header-group",onClick:t[5]||(t[5]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.removeGroupTab&&e.removeGroupTab.apply(e,t)}),title:"add tab to group"},[(0,o.Wm)(l,{icon:"object-ungroup"})])):(0,o.kq)("",!0),e.frame.isPinned?((0,o.wg)(),(0,o.iD)("div",{key:3,class:"frame-header-pinned pinned",onClick:t[6]||(t[6]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.unpinTab&&e.unpinTab.apply(e,t)}),title:"unpin current tab"},[(0,o.Wm)(l,{icon:"thumbtack"})])):(0,o.kq)("",!0),e.frame.isPinned?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:4,class:"frame-header-pinned",onClick:t[7]||(t[7]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.pinTab&&e.pinTab.apply(e,t)}),title:"pin current tab"},[(0,o.Wm)(l,{icon:"thumbtack"})])),e.frame.bookmarkId?((0,o.wg)(),(0,o.iD)("div",{key:5,class:"frame-header-star star",onClick:t[8]||(t[8]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.removeBookmark&&e.removeBookmark.apply(e,t)}),title:"remove from bookmark"},[(0,o.Wm)(l,{icon:"star"})])):(0,o.kq)("",!0),e.frame.bookmarkId?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:6,class:"frame-header-star",onClick:t[9]||(t[9]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.addBookmark&&e.addBookmark.apply(e,t)}),title:"add to bookmark"},[(0,o.Wm)(l,{icon:"star"})])),e.frame.isOpened?((0,o.wg)(),(0,o.iD)("div",{key:7,class:"frame-header-close",onClick:t[10]||(t[10]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.closeTab&&e.closeTab.apply(e,t)}),title:"close current tab"},[(0,o.Wm)(l,{icon:"xmark"})])):(0,o.kq)("",!0)]))]),(0,o.Wm)(c,{onClickedSuggestion:e.clickedSuggestion,"suggested-tags":e.frame.suggestedTags,"fixed-tags":e.frame.preProcessedTags,tags:e.frame.tags,onClickedTag:e.clickedTag},null,8,["onClickedSuggestion","suggested-tags","fixed-tags","tags","onClickedTag"])])],34)],64)}r(7658);var q=r(65),x=function(e){if(""===e)return"empty.com";if(e.startsWith("chrome://"))return"chrome.google";var t=new URL(e).hostname;return t=t.replace("www.",""),t};function U(e){return e&&e.startsWith("https://")?(e=e.substring(8),e=e.replace("www.",""),e.split("/")[0]):""}function F(e){var t=U(e),r=t.split(".");return r.pop(),r=r.filter((function(e){return"com"!==e})),r=r.filter((function(e){return e.length>1})),r}function P(e){return{treeNode:"0"===e.id?G(e.children):[]}}var G=function(e){var t=[];return e.forEach((function(e){var r=Y(e.title);e.children&&e.children.length>0?t.push({children:G(e.children),id:e.id,parentId:e.parentId,index:e.index,title:r.title,titleRaw:e.title,url:e.url,editable:"0"!==e.parentId&&"0"!==e.id,tags:r.tags}):t.push({children:[],parentId:e.parentId,id:e.id,index:e.index,title:r.title,titleRaw:e.title,url:e.url,favIconUrl:V(e.url),editable:!0,tags:r.tags})})),t};function R(e,t,r,n){var o=X(e);return{tabs:t,search:n,tags:Z(o,n),windows:j(t,r,o,n),frames:ee(o)}}function Z(e,t){void 0===t&&(t=[]);var r=[],n=K(e,t);return n.forEach((function(e){e.tags.forEach((function(e){if(!t.includes(e)){var n=r.findIndex((function(t){return t.name===e}));-1===n?r.push({name:e,count:1,kind:"tag"}):r[n].count++}})),e.preProcessedTags.forEach((function(e){if(!t.includes(e)){var n=r.findIndex((function(t){return t.name===e}));-1===n?r.push({name:e,count:1,kind:"preProcessed"}):r[n].count++}}))})),t.length>0&&(r=r.filter((function(e){return e.count<n.length}))),r.sort((function(e,t){return e.count>t.count?-1:1}))}function j(e,t,r,n){void 0===n&&(n=[]);var o=[];return e.forEach((function(a){var i,s=o.find((function(e){return e.id===a.windowId}));s||(s={name:"main",id:a.windowId,pinneds:[],tabs:[]},o.push(s));var u=r.find((function(e){return e.url===a.url}));if(a.pinned)s.pinneds.push($(a,u,n));else{-1===a.groupId&&s.tabs.push($(a,u,n));var l=t.find((function(e){return e.id===a.groupId}));if(l){var c=s.tabs.find((function(e){return e.id===a.groupId})),d=$(a,u,n);if(c)d.suggestedTags=c.tags.filter((function(e){return!d.tags.includes(e)})),(i=c.suggestedTags).push.apply(i,d.tags),c.suggestedTags=c.suggestedTags.filter((function(e,t){return c.suggestedTags.indexOf(e)===t&&!c.tags.includes(e)})),c.frames.push(d);else{var g=J(l.title),f=[];g.length>0&&(d.suggestedTags=g.filter((function(e){return!d.tags.includes(e)&&!d.suggestedTags.includes(e)})),f=H({bookmarks:r,tabs:e,openGroup:l,groupTags:g})),s.tabs.push({id:a.groupId,title:l.title,color:l.color,collapsed:l.collapsed,suggestedFrames:f,frames:[d],suggestedTags:d.tags.filter((function(e){return!g.includes(e)})),tags:g,preProcessedTags:["@group"],kind:"group"})}}}})),o}function H(e){if(0===e.groupTags.length)return[];var t=e.bookmarks.filter((function(t){return e.groupTags.every((function(e){return J(t.title).includes(e)}))})),r=e.tabs.filter((function(t){return t.groupId===e.openGroup.id})).map((function(e){return e.url}));t=t.filter((function(e){return!r.includes(e.url?e.url:"")}));var n=[];return t.forEach((function(e){e.url&&n.push({url:e.url,favIconUrl:V(e.url),tags:J(e.title),title:N(e.title),preProcessedTags:F(e.url).map((function(e){return"@"+e}))})})),n}function $(e,t,r){void 0===r&&(r=[]);var n=[],o=void 0,a=e.title;if(t){var i=Y(t.title);o=t.id,a=i.title,n=i.tags}return{id:e.id,windowId:e?e.windowId:-1,groupId:e?e.groupId:-1,index:e?e.index:-1,url:e.url,favIconUrl:e.favIconUrl,suggestedTags:r.filter((function(e){return!n.includes(e)&&e.startsWith("#")})),bookmarkId:o,title:a,tags:n,audible:!!e&&e.audible,domain:x(e.url),preProcessedTags:F(e.url).map((function(e){return"@"+e})),isPinned:e.pinned,active:e.active,isOpened:!0,isSelected:e.selected,kind:"web"}}function K(e,t){if(!e)return[];var r=t.filter((function(e){return e.startsWith("#")})),n=t.filter((function(e){return e.startsWith("@")}));return e.filter((function(e){var t="@"+F(e.url),o=J(e.title),a=!(n.length>0)||n.every((function(e){return t.includes(e)})),i=!(r.length>0)||r.every((function(e){return o.includes(e)}));return a&&i})).map((function(e){return{preProcessedTags:F(e.url).map((function(e){return"@"+e})),tags:J(e.title)}}))}function z(e,t){return t.length>0&&(e=e.filter((function(e){return t.every((function(t){return e.tags.includes(t)||e.preProcessedTags.includes(t)}))}))),L(e)}function L(e){return e.sort((function(e,t){var r=e.tags.length>t.tags.length;return r?1:-1}))}var V=function(e){var t=e;try{var r=new URL(e);t="".concat(r.protocol,"//").concat(r.hostname)}catch(n){}return"chrome-extension://".concat("aekckpbdaninhmbbajcpedhaidaeofdh","/_favicon/?pageUrl=").concat(t,"&size=16")},Y=function(e){var t=/\s#[a-z0-9/-]+/gi,r=e.match(t);return{title:e.replace(t,"").trim(),tags:r?r.map((function(e){return e.trim()})):[]}},N=function(e){return e.replace(/\s#[a-z0-9/-]+/gi,"").trim()},J=function(e){if(!e)return[];var t=e.match(/\s#[a-z0-9/-]+/gi);return t?t.map((function(e){return e.trim()})):[]},Q=function(e,t){return"".concat(e," ").concat(t.join(" "))},X=function(e){var t=[];return t.push({id:e.id,title:e.title,url:e.url}),e.children&&e.children.length>0&&e.children.forEach((function(e){t.push.apply(t,X(e))})),t},ee=function(e){return e.filter((function(e){return e.url&&e.title})).map((function(e){return{url:e.url,favIconUrl:V(e.url),tags:J(e.title),title:N(e.title),preProcessedTags:F(e.url).map((function(e){return"@"+e}))}}))},te=(0,q.MT)({state:function(){return{dragItem:null,storage:{kind:"local",accessKey:"",gistID:""},clipboard:null,head:{input:""},frameContainer:{currentSelectedFrameIdx:-1},tabs:[],tabGroups:[],bookmarks:[],bookmarkTreeNode:{},search:[]}},getters:{dragItem:function(e){return e.dragItem},bookmarkWindow:function(e){return P(e.bookmarkTreeNode)},storage:function(e){return e.storage},activeTab:function(e){var t=e.tabs.find((function(e){return e.active}));return t&&t.url?t:null},allTabs:function(e){return e.tabs},renderData:function(e){return R(e.bookmarkTreeNode,e.tabs,e.tabGroups,e.search)}},mutations:{ADD_SEARCH_ITEM:function(e,t){e.search.some((function(e){return e===t}))||e.search.push(t)},REMOVE_SEARCH_ITEM:function(e,t){var r=e.search.findIndex((function(e){return e===t}));~r&&e.search.splice(r,1)},SET_DRAG_ITEM:function(e,t){e.dragItem=t},SET_DROPER_ID:function(e,t){setTimeout((function(){e.dragItem&&e.dragItem.lastUpdate&&Date.now()-200>e.dragItem.lastUpdate&&(e.dragItem.dropperId=null)}),300),e.dragItem&&(e.dragItem.dropperId=t,e.dragItem.lastUpdate=Date.now())},SET_STORAGE:function(e,t){localStorage.setItem("storage",JSON.stringify(t)),e.storage=t},SET_CLIPBOARD:function(e,t){e.clipboard=t},SET_ALL_TABS:function(e,t){e.tabs=t},SET_ALL_TAB_GROUPS:function(e,t){e.tabGroups=t},SET_ALL_BOOKMARKS:function(e,t){e.bookmarks=t},SET_BOOKMARK_TREE:function(e,t){e.bookmarkTreeNode=t[0]}},actions:{addSearchItem:function(e,t){e.commit("ADD_SEARCH_ITEM",t)},removeSearchItem:function(e,t){e.commit("REMOVE_SEARCH_ITEM",t)},setDragItem:function(e,t){e.commit("SET_DRAG_ITEM",t)},setDropperId:function(e,t){e.commit("SET_DROPER_ID",t)},setClipboard:function(e,t){e.state.clipboard!==t&&e.commit("SET_CLIPBOARD",t)},setAllTabs:function(e,t){e.commit("SET_ALL_TABS",t)},setAllTabGroups:function(e,t){e.commit("SET_ALL_TAB_GROUPS",t)},setAllBookmarks:function(e,t){e.commit("SET_ALL_BOOKMARKS",t)},setBookmarkTree:function(e,t){e.commit("SET_BOOKMARK_TREE",t)},removeGroup:function(e,t){e.commit("REMOVE_SAVED_GROUP",t)}},modules:{}});const re={class:"tags-container"},ne={class:"add"},oe=["onClick"],ae=["onClick"],ie=["onClick"],se=["onClick"];function ue(e,t,r,n,a,s){const u=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.suggestedTags,((t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:"tag add",key:r,draggable:"true"},[(0,o._)("span",ne,[(0,o.Wm)(u,{icon:"square-plus"})]),(0,o._)("span",{onClick:r=>e.$emit("clickedSuggestion",t)},(0,i.zw)(t),9,oe)])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.fixedTags,((t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:"tag",key:r,draggable:"true"},[(0,o._)("span",{onClick:r=>e.$emit("clickedTag",t)},(0,i.zw)(t),9,ae)])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.tags,((t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:"tag",key:r,draggable:"true"},[(0,o._)("span",{class:"remove",onClick:r=>e.$emit("removeTag",t)},[(0,o.Wm)(u,{icon:"xmark"})],8,ie),(0,o._)("span",{onClick:r=>e.$emit("clickedTag",t)},(0,i.zw)(t),9,se)])))),128))])}var le={name:"TagContainer",emits:["addTag","clickedTag","removeTag","clickedSuggestion"],props:["tags","fixedTags","color","suggestedTags"],data(){return{isDraggingOver:!1,id:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{dragItem(){return te.getters.dragItem},isRemoveDroppable(){return!!this.dragItem&&this.dragItem.draggerId===this.id},isAddingDroppable(){return!(!this.dragItem||"tag"!==this.dragItem.kind)&&this.dragItem.draggerId!==this.id}},methods:{dragstart(e){const t={kind:"tag",draggerId:this.id,object:e};te.dispatch("setDragItem",t)},dragend(){te.dispatch("setDragItem",null)},dragover(){this.isDraggingOver=!0},dragleave(){this.isDraggingOver=!1},onDropAdd(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("addTag",this.dragItem.object)},onDropRemove(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("removeTag",this.dragItem.object)}}};const ce=(0,v.Z)(le,[["render",ue],["__scopeId","data-v-3c95a99b"]]);var de=ce,ge=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},fe=(0,o.aZ)({name:"ActiveFrameUnit",components:{TagContainer:de},props:["frame"],data:function(){return{editTitle:!1,newTitle:this.frame.title}},computed:{dragItem:function(){return te.getters.dragItem}},watch:{},mounted:function(){},methods:{dragstart:function(e){if("frame"===e.toElement.id){var t=this.$refs.frame;t.style.opacity="0.4";var r={draggerId:this.frame.id,kind:"frame",object:this.frame};te.dispatch("setDragItem",r)}},clickedSuggestion:function(e){var t=ge(ge([],this.frame.tags,!0),[e],!1),r=Q(this.frame.title,t);this.frame.bookmarkId?this.port.postMessage({kind:"update-bookmark",url:this.frame.url,title:r,id:this.frame.bookmarkId}):this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:r})},toEditMode:function(){this.editTitle=!0,this.newTitle=this.frame.title},upsertBookmark:function(){var e=Q(this.newTitle,this.frame.tags);this.frame.bookmarkId?this.port.postMessage({kind:"update-bookmark",url:this.frame.url,title:e,id:this.frame.bookmarkId}):this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:e}),this.editTitle=!1},copyLink:function(){navigator.clipboard.writeText(this.frame.url)},dragend:function(){var e=this.$refs.frame;e.style.opacity="1",te.dispatch("setDragItem",null)},clickedTag:function(e){te.dispatch("addSearchItem",e)},newGroupTab:function(){this.port.postMessage({kind:"group-tabs",tabs:this.frame.id})},removeGroupTab:function(){this.port.postMessage({kind:"ungroup-tabs",tabs:this.frame.id})},pinTab:function(){this.frame.isOpened?this.port.postMessage({kind:"pin-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url,pinned:!0})},clone:function(){this.port.postMessage({kind:"open-and-update",url:this.frame.url,windowId:this.frame.windowId,index:this.frame.index+1,groupId:this.frame.groupId})},unpinTab:function(){this.port.postMessage({kind:"unpin-tab",tab:this.frame.id})},closeTab:function(){this.port.postMessage({kind:"close-tabs",tab:this.frame.id})},addBookmark:function(){this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:this.frame.title})},removeBookmark:function(){this.port.postMessage({kind:"remove-bookmark",id:this.frame.bookmarkId})},goToPage:function(){this.frame.isOpened?this.port.postMessage({kind:"open-request-existing-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url})},addTag:function(e){var t=JSON.parse(JSON.stringify(this.frame));t.tags.push(e),te.dispatch("upsertFrame",t)},removeTag:function(e){console.log(e,this.frame)}}});const pe=(0,v.Z)(fe,[["render",E],["__scopeId","data-v-18b0080a"]]);var me=pe;function he(e,t,r,a,s,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[u.isHoverArea?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["hover-area",{hover:u.isDropArea}]),onDrop:t[0]||(t[0]=(...e)=>u.onDrop&&u.onDrop(...e)),onDragover:[t[1]||(t[1]=(0,n.iM)((()=>{}),["prevent"])),t[2]||(t[2]=(...e)=>u.dragover&&u.dragover(...e))]},null,34)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,i.C_)(["drop-area",{active:u.isDropArea}]),onDrop:t[3]||(t[3]=(...e)=>u.onDrop&&u.onDrop(...e)),onDragover:t[4]||(t[4]=(...e)=>u.dragover&&u.dragover(...e)),onDragenter:t[5]||(t[5]=(0,n.iM)((()=>{}),["prevent"]))},null,34)],64)}var ke={name:"FrameDropArea",props:["frameTop","frameBottom"],components:{},data(){return{id:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{frameBottomId(){return this.frameBottom?this.frameBottom.id:-1},frameTopId(){return this.frameTop?this.frameTop.id:-1},dragItem(){return te.getters.dragItem},isHoverArea(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.draggerId!==this.frameBottomId&&this.dragItem.draggerId!==this.frameTopId},isDropArea(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.dropperId===this.id&&this.dragItem.draggerId!==this.frameBottomId&&this.dragItem.draggerId!==this.frameTopId},isDroppable(){return this.dragItem&&"frame"===this.dragItem.kind&&this.dragItem.dropperId!==this.id}},methods:{onDrop(){if(this.dragItem&&"frame"===this.dragItem.kind){const e=this.dragItem.object,t=e.id===this.frameTopId?this.frameTop:this.frameBottom,r=e.index>t.index?t.index:t.index-1;e.isOpened?this.port.postMessage({kind:"move-tab",tab:e.id,windowId:t.windowId,index:r,groupId:t.groupId}):this.port.postMessage({kind:"open-and-update",url:e.url,windowId:t.windowId,index:t.index,groupId:t.groupId})}},dragover(){te.dispatch("setDropperId",this.id)}},mounted(){}};const ve=(0,v.Z)(ke,[["render",he],["__scopeId","data-v-61312d04"]]);var we=ve,be={class:"scafold-container"},Te={class:"header-left"},De={key:0},ye={class:"header-right"},Ie={class:"frame-footer-drag"},_e={class:"footer"};function Se(e,t,r,a,s,u){var l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("TagContainer");return(0,o.wg)(),(0,o.iD)("div",be,[(0,o._)("div",{class:(0,i.C_)(["header",e.color]),draggable:"true"},[(0,o._)("div",Te,[e.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["input",e.color]),onClick:t[0]||(t[0]=function(t){return e.collapse(!0)})},"-",2)),e.collapsed?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,i.C_)(["input",e.color]),onClick:t[1]||(t[1]=function(t){return e.collapse(!1)})},"+",2)):(0,o.kq)("",!0),e.editTitleMode?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newTitle=t}),class:(0,i.C_)(e.color),onFocusout:t[3]||(t[3]=function(t){return e.saveNewTitle()}),placeholder:"(empty)",ref:"input"},null,34)),[[n.nr,e.newTitle]]):(0,o.kq)("",!0),e.editTitleMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("label",{key:3,class:(0,i.C_)(e.color),ref:"label",onClick:t[4]||(t[4]=function(t){return e.editTitle()})},[(0,o.Uk)((0,i.zw)(e.title.length>0?e.title:"(empty)")+" ",1),e.collapsed?((0,o.wg)(),(0,o.iD)("span",De," - "+(0,i.zw)(e.countFrames)+" item(s)",1)):(0,o.kq)("",!0)],2))]),(0,o._)("div",ye,[(0,o._)("div",{class:(0,i.C_)(["color-picker",e.color]),onClick:t[5]||(t[5]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.changeColor&&e.changeColor.apply(e,t)})},"color",2),(0,o._)("div",Ie,[(0,o.Wm)(l,{icon:"bars"})])])],2),e.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["content",e.color])},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2)),(0,o._)("div",_e,[(0,o.Wm)(c,{onClickedSuggestion:e.addTagsToGroup,"suggested-tags":e.group.suggestedTags,tags:e.group.tags,color:e.group.color,onAddTag:e.removeTag,onRemoveTag:e.removeTag},null,8,["onClickedSuggestion","suggested-tags","tags","color","onAddTag","onRemoveTag"])])])}var Ce=(0,o.aZ)({name:"TabGroupScaffold",components:{TagContainer:de},props:["title","color","collapsed","countFrames","group"],data:function(){return{newTitle:this.title,editTitleMode:!1}},methods:{addTagsToGroup:function(e){var t=Q(this.group.title,[e]);this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:t})},removeTag:function(e){var t=this.group.title.replace(e,"");this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:t})},collapse:function(e){this.port.postMessage({kind:"collapse-tab-groups",group:this.group.id,collapse:e})},editTitle:function(){var e=this;this.editTitleMode=!0,this.$nextTick((function(){var t=e.$refs.input;t.focus()}))},removeGroup:function(){te.dispatch("removeGroup",this.group.title)},changeColor:function(){var e=this.color;"grey"===this.color&&(e="blue"),"blue"===this.color&&(e="red"),"red"===this.color&&(e="yellow"),"yellow"===this.color&&(e="green"),"green"===this.color&&(e="pink"),"pink"===this.color&&(e="purple"),"purple"===this.color&&(e="cyan"),"cyan"===this.color&&(e="orange"),"orange"===this.color&&(e="grey"),this.port.postMessage({kind:"color-tab-groups",group:this.group.id,color:e})},saveNewTitle:function(){if(this.newTitle){var e=Q(this.newTitle,this.group.tags);this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:e})}this.editTitleMode=!1}}});const Me=(0,v.Z)(Ce,[["render",Se],["__scopeId","data-v-604b208c"]]);var Ae=Me,Oe={key:0,class:"suggestion-show-container"},We={key:1,class:"suggestion-show-container"},Be={key:2,class:"suggestions-container"};function Ee(e,t,r,n,a,s){var u=(0,o.up)("MinimalFrameUnit");return(0,o.wg)(),(0,o.iD)(o.HY,null,[!e.isOpen&&e.hasSuggestions?((0,o.wg)(),(0,o.iD)("div",Oe,[(0,o._)("span",{class:"suggestion-show",onClick:t[0]||(t[0]=function(t){return e.isOpen=!0})},[(0,o.Uk)(" Show "),(0,o._)("b",null,"+"+(0,i.zw)(e.frames.length),1),(0,o.Uk)(" tabs suggestions ")])])):(0,o.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,o.wg)(),(0,o.iD)("div",We,[(0,o._)("span",{class:"suggestion-show",onClick:t[1]||(t[1]=function(t){return e.isOpen=!1})}," hide suggestions ")])):(0,o.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,o.wg)(),(0,o.iD)("div",Be,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.frames,(function(t){return(0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o.Wm)(u,{frame:t,onSelected:e.selectedSuggestion},null,8,["frame","onSelected"])])})),128))])):(0,o.kq)("",!0)],64)}var qe={class:"frame-info"},xe={class:"frame-header"},Ue={class:"frame-header-left"},Fe=["src"];function Pe(e,t,r,n,a,s){return(0,o.wg)(),(0,o.iD)("div",{class:"frame-info-container",ref:"frame",id:"frame",onClick:t[0]||(t[0]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.click&&e.click.apply(e,t)})},[(0,o._)("div",qe,[(0,o._)("div",xe,[(0,o._)("div",Ue,[e.frame.favIconUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,Fe)):(0,o.kq)("",!0),(0,o._)("small",{class:(0,i.C_)({"current-selected":e.frame.isSelected})},(0,i.zw)(e.frame.title),3)])])])],512)}var Ge=(0,o.aZ)({name:"MinimalFrameUnit",emits:["selected"],components:{},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const Re=(0,v.Z)(Ge,[["render",Pe],["__scopeId","data-v-73fe5aad"]]);var Ze=Re,je=(0,o.aZ)({name:"SuggestionFrames",components:{MinimalFrameUnit:Ze},props:["frames","group"],data:function(){return{isOpen:!1}},methods:{selectedSuggestion:function(e){this.port.postMessage({kind:"open-and-update",url:e.url,windowId:this.group.windowId,groupId:this.group.id})}},computed:{hasSuggestions:function(){return this.frames.length>0}}});const He=(0,v.Z)(je,[["render",Ee],["__scopeId","data-v-401768d8"]]);var $e=He,Ke={class:"toolbar"},ze={class:"main-container"},Le={class:"tag-input-container"},Ve=["onClick","onDrag"],Ye=["placeholder"],Ne={key:0,class:"addframe-container"},Je={key:2};function Qe(e,t,r,a,s,u){var l=(0,o.up)("TagListContainer"),c=(0,o.up)("ToolbarFrameUnit");return(0,o.wg)(),(0,o.iD)("div",Ke,[(0,o._)("div",ze,[(0,o._)("div",Le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.search,(function(r,n){return(0,o.wg)(),(0,o.iD)("p",{class:"tag-input",key:n},[(0,o._)("span",{onClick:function(t){return e.removeTag(r)},draggable:"true",onDrag:function(t){return e.dragstart(r)},onDragend:t[0]||(t[0]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.dragend&&e.dragend.apply(e,t)})},(0,i.zw)(r),41,Ve)])})),128)),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.input=t}),placeholder:e.placeholder,onKeydown:t[2]||(t[2]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.keydown&&e.keydown.apply(e,t)}),ref:"input"},null,40,Ye),[[n.nr,e.input]])]),e.isFrameSearch?((0,o.wg)(),(0,o.iD)("div",Ne,[(0,o.Wm)(l,{tags:e.tagsFiltered,class:"tag-list-container","initial-show":10,onAddTag:e.addTag},null,8,["tags","onAddTag"]),e.showFrameSuggestions?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:0,class:"show-suggestions",onClick:t[3]||(t[3]=function(t){return e.showFrameSuggestions=!0})},[(0,o.Uk)("Show "),(0,o._)("b",null,"+"+(0,i.zw)(e.framesFiltered.length),1),(0,o.Uk)(" frames suggestions")])),e.showFrameSuggestions?((0,o.wg)(),(0,o.iD)("span",{key:1,class:"show-suggestions",onClick:t[4]||(t[4]=function(t){return e.showFrameSuggestions=!1})},"Hide all suggestions")):(0,o.kq)("",!0),e.showFrameSuggestions?((0,o.wg)(),(0,o.iD)("div",Je,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.framesFiltered,(function(t,r){return(0,o.wg)(),(0,o.iD)("div",{class:"frames-container",key:r},[(0,o.Wm)(c,{frame:t,onSelected:e.addFrame},null,8,["frame","onSelected"])])})),128))])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])])}const Xe={class:"tags"},et=["onClick"],tt={key:0};function rt(e,t,r,n,a,s){return(0,o.wg)(),(0,o.iD)("ul",Xe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.items,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("a",{href:"#",class:"tag",style:(0,i.j5)(s.getCount(e.count)),onClick:t=>s.selectTag(t,e)},(0,i.zw)(e.name),13,et)])))),128)),s.displayShow>0?((0,o.wg)(),(0,o.iD)("li",tt,[(0,o._)("a",{class:"tag-add",onClick:t[0]||(t[0]=(...e)=>s.showMore&&s.showMore(...e))},"+"+(0,i.zw)(s.displayShow),1)])):(0,o.kq)("",!0)])}var nt={name:"TagListContainer",emits:["addTag"],props:["tags","initialShow"],data(){return{styleObject:{"--count":"'12'"},moreToShow:0}},computed:{displayShow(){return this.tags.length-this.initialShow-this.moreToShow},slice(){return this.initialShow+this.moreToShow},items(){const e=JSON.parse(JSON.stringify(this.tags));return e.splice(0,this.slice).sort(((e,t)=>e.count<t.count?1:-1))}},methods:{showMore(){this.moreToShow+=10},getCount(e){return{"--count":`'${e}'`}},selectTag(e,t){this.$emit("addTag",t),e.preventDefault()}}};const ot=(0,v.Z)(nt,[["render",rt],["__scopeId","data-v-2be40702"]]);var at=ot,it={class:"frame-info"},st={class:"frame-header"},ut={class:"frame-header-left"},lt=["src"];function ct(e,t,r,n,a,s){return(0,o.wg)(),(0,o.iD)("div",{class:"frame-info-container",ref:"frame",id:"frame",onClick:t[0]||(t[0]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.click&&e.click.apply(e,t)})},[(0,o._)("div",it,[(0,o._)("div",st,[(0,o._)("div",ut,[e.frame.favIconUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,lt)):(0,o.kq)("",!0),(0,o._)("small",{class:(0,i.C_)({"current-selected":e.frame.isSelected})},(0,i.zw)(e.frame.title),3)])])])],512)}var dt=(0,o.aZ)({name:"ToolbarFrameUnit",emits:["selected"],components:{},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const gt=(0,v.Z)(dt,[["render",ct],["__scopeId","data-v-c0404076"]]);var ft=gt,pt=(0,o.aZ)({name:"ToolBar",components:{ToolbarFrameUnit:ft,TagListContainer:at},props:["frames","search","tags"],data:function(){return{input:"",showFrameSuggestions:!1}},watch:{},computed:{framesFiltered:function(){return this.frames&&0!==this.search.length?z(this.frames,this.search):[]},tagsFiltered:function(){var e=this;return this.input.length>1?this.tags.filter((function(t){return t.name.includes(e.input)})):this.tags},placeholder:function(){return 0===this.search.length?"Start #,@ to select frame, or type '/' for command":"Add more tags here"},isFrameSearch:function(){return this.input.startsWith("#")||this.input.startsWith("@")||this.search.length>0},isGroupSearch:function(){return this.input.startsWith("/")||this.input.startsWith("/")&&this.search.length>0}},methods:{dragstart:function(e){var t={kind:"tag",draggerId:Math.floor(1e9*Math.random()).toFixed(0),object:e};te.dispatch("setDragItem",t)},dragend:function(){te.dispatch("setDragItem",null)},removeTag:function(e){te.dispatch("removeSearchItem",e)},addFrame:function(e){this.port.postMessage({kind:"open-request-new-tab",url:e.url})},addTag:function(e){te.dispatch("addSearchItem",e.name),this.input="";var t=this.$refs.input;this.$nextTick((function(){t.focus()}))},keydown:function(e){if("Escape"===e.code&&e.preventDefault(),"Backspace"===e.code&&0===this.input.length&&(te.dispatch("removeSearchItem",this.search[this.search.length-1]),e.preventDefault()),"Enter"===e.code&&this.input.length>1&&this.input.startsWith("#")){te.dispatch("addSearchItem",this.input),this.input="",e.preventDefault();var t=this.$refs.input;this.$nextTick((function(){t.focus()}))}}}});const mt=(0,v.Z)(pt,[["render",Qe],["__scopeId","data-v-32a7607c"]]);var ht=mt,kt=(0,o.aZ)({name:"CurrentActiveTabs",props:["window","tags","frames","search","groupsData"],components:{ToolBar:ht,SuggestionFrames:$e,TabGroupScaffold:Ae,FrameDropArea:we,ActiveFrameUnit:me},methods:{getTopFrameFromGroup:function(e,t){if(e>0)return this.window.tabs[t].frames[e-1];if(t>0){var r=this.window.tabs[t-1];if("group"===r.kind){var n=r;return n.frames[n.frames.length-1]}if("web"===r.kind)return r}}}});const vt=(0,v.Z)(kt,[["render",I],["__scopeId","data-v-28f0bddf"]]);var wt=vt,bt={name:"ActiveAndFramesView",props:["renderData"],components:{CurrentActiveTabs:wt,TabContainer:b}};const Tt=(0,v.Z)(bt,[["render",g]]);var Dt=Tt;function yt(e,t,r,n,a,i){return(0,o.wg)(),(0,o.iD)("h1",null,"How to install lomni plugin")}var It={name:"PluginInstallView",mounted(){}};const _t=(0,v.Z)(It,[["render",yt]]);var St=_t;function Ct(e,t,r,n,a,i){const s=(0,o.up)("BookmarkContainer");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.bookmarkWindow.treeNode,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"bookmarks",key:e.id},[(0,o.Wm)(s,{bookmark:e},null,8,["bookmark"])])))),128)}var Mt={key:0},At={key:1};function Ot(e,t,r,n,a,i){var s=(0,o.up)("BookmarkContainer",!0),u=(0,o.up)("BookmarkScaffold"),l=(0,o.up)("BookmarkUnit");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.bookmark.children.length>0?((0,o.wg)(),(0,o.iD)("div",Mt,[(0,o.Wm)(u,{bookmark:e.bookmark},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.bookmark.children,(function(e){return(0,o.wg)(),(0,o.iD)("div",{class:"bookmark-children",key:e.id},[(0,o.Wm)(s,{bookmark:e},null,8,["bookmark"])])})),128))]})),_:1},8,["bookmark"])])):(0,o.kq)("",!0),0===e.bookmark.children.length?((0,o.wg)(),(0,o.iD)("div",At,[(0,o.Wm)(l,{bookmark:e.bookmark},null,8,["bookmark"])])):(0,o.kq)("",!0)],64)}var Wt=function(e){return(0,o.dD)("data-v-86c3b99a"),e=e(),(0,o.Cn)(),e},Bt={class:"scafold-container"},Et=["draggable"],qt={class:"header-left"},xt={key:0},Ut={class:"header-right"},Ft={class:"frame-footer-drag"},Pt={key:0,class:"content"},Gt=Wt((function(){return(0,o._)("div",{class:"footer"},null,-1)}));function Rt(e,t,r,a,s,u){var l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Bt,[(0,o._)("div",{class:"header",draggable:e.bookmark.editable},[(0,o._)("div",qt,[e.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:"input",onClick:t[0]||(t[0]=function(t){return e.collapsed=!0})},"-")),e.collapsed?((0,o.wg)(),(0,o.iD)("div",{key:1,class:"input",onClick:t[1]||(t[1]=function(t){return e.collapsed=!1})},"+")):(0,o.kq)("",!0),e.editTitleMode?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newTitle=t}),onFocusout:t[3]||(t[3]=function(t){return e.saveNewTitle()}),placeholder:"(empty)",ref:"input"},null,544)),[[n.nr,e.newTitle]]):(0,o.kq)("",!0),e.editTitleMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("label",{key:3,ref:"label",onClick:t[4]||(t[4]=function(t){return e.editTitle()})},[(0,o.Uk)((0,i.zw)(e.bookmark.title)+" ",1),e.collapsed?((0,o.wg)(),(0,o.iD)("span",xt," - "+(0,i.zw)(e.bookmark.children.length)+" item(s)",1)):(0,o.kq)("",!0)],512))]),(0,o._)("div",Ut,[(0,o._)("div",Ft,[(0,o.Wm)(l,{icon:"bars"})])])],8,Et),e.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Pt,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),Gt])}var Zt=(0,o.aZ)({name:"BookmarkScaffold",components:{},props:["bookmark"],data:function(){return{collapsed:!1,newTitle:this.title,editTitleMode:!1}},methods:{addTag:function(e){console.log("TODO add tags",e)},removeTag:function(e){console.log("TODO remove tag",e)},editTitle:function(){var e=this;this.bookmark.editable&&(this.editTitleMode=!0,this.$nextTick((function(){var t=e.$refs.input;t.focus()})))},removeGroup:function(){te.dispatch("removeGroup",this.bookmark.title)},saveNewTitle:function(){this.newTitle&&this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:this.newTitle}),this.editTitleMode=!1}}});const jt=(0,v.Z)(Zt,[["render",Rt],["__scopeId","data-v-86c3b99a"]]);var Ht=jt,$t=["draggable"],Kt={class:"bookmark-info"},zt={class:"bookmark-header"},Lt={class:"bookmark-header-left"},Vt=["src"],Yt={key:2,class:"tags-container"},Nt={class:"bookmark-header-right"};function Jt(e,t,r,a,s,u){var l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",{class:"bookmark-info-container",ref:"bookmark",id:"bookmark",draggable:e.bookmark.editable},[(0,o._)("div",Kt,[(0,o._)("div",zt,[(0,o._)("div",Lt,[(0,o._)("img",{src:e.bookmark.favIconUrl,width:"16",height:"16"},null,8,Vt),e.editMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("small",{key:0,onDblclick:t[0]||(t[0]=function(t){return e.editMode=!0})},(0,i.zw)(e.bookmark.title),33)),e.editMode?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newTitle=t}),onFocusout:t[2]||(t[2]=function(t){return e.saveTitle()}),autofocus:!0,ref:"input"},null,544)),[[n.nr,e.newTitle]]):(0,o.kq)("",!0),e.editMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Yt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.bookmark.tags,(function(e,t){return(0,o.wg)(),(0,o.iD)("div",{class:"tag",key:t,draggable:"true"},(0,i.zw)(e),1)})),128))]))]),(0,o._)("div",Nt,[(0,o._)("div",{class:"edit",onClick:t[3]||(t[3]=function(t){return e.editMode?e.editMode=!1:e.editMode=!0}),title:"edit frame"},[(0,o.Wm)(l,{icon:"edit"})])])])])],8,$t)}var Qt=(0,o.aZ)({name:"BookmarkUnit",components:{},props:["bookmark"],data:function(){return{editMode:!1,newTitle:this.bookmark.title}},computed:{},methods:{saveTitle:function(){this.editMode=!1}}});const Xt=(0,v.Z)(Qt,[["render",Jt],["__scopeId","data-v-0f7d67ee"]]);var er=Xt,tr=(0,o.aZ)({components:{BookmarkUnit:er,BookmarkScaffold:Ht},props:["bookmark"],name:"BookmarkContainer"});const rr=(0,v.Z)(tr,[["render",Ot]]);var nr=rr,or={name:"BookmarksView",props:["bookmarkWindow"],components:{BookmarkContainer:nr}};const ar=(0,v.Z)(or,[["render",Ct],["__scopeId","data-v-309efa08"]]);var ir=ar,sr=(0,o.aZ)({name:"SidebarView",components:{BookmarksView:ir,PluginInstallView:St,TabsView:Dt},data:function(){return{selected:"tabs",hasPlugin:!1}},computed:{bookmarkWindow:function(){return te.getters.bookmarkWindow},renderData:function(){return te.getters.renderData}},methods:{select:function(e){this.selected=e,this.$emit("selected",e)}},mounted:function(){this.port&&(this.hasPlugin=!0,this.port.postMessage({kind:"all-tabs-request"}),this.port.postMessage({kind:"all-tab-groups-request"}))}});const ur=(0,v.Z)(sr,[["render",l],["__scopeId","data-v-89ca5508"]]);var lr=ur,cr={components:{SidebarView:lr}};const dr=(0,v.Z)(cr,[["render",a]]);var gr=dr,fr=r(1373),pr=r(3642),mr=function(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function i(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n["throw"](e))}catch(t){a(t)}}function u(e){e.done?r(e.value):o(e.value).then(i,s)}u((n=n.apply(e,t||[])).next())}))},hr=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=2&a[0]?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},kr=function(){function e(){}return Object.defineProperty(e.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return mr(this,void 0,void 0,(function(){var t;return hr(this,(function(r){return t=new pr.vd({auth:e}),console.log(t),t.rest.users.getAuthenticated().then((function(e){return console.log("success"),e})).catch((function(e){return console.log("error: ",e),!1})),[2]}))}))}}),e}(),vr=function(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function i(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n["throw"](e))}catch(t){a(t)}}function u(e){e.done?r(e.value):o(e.value).then(i,s)}u((n=n.apply(e,t||[])).next())}))},wr=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=2&a[0]?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},br=function(){function e(e,t){Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"port",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.emitter=t,this.id=e}return Object.defineProperty(e.prototype,"connect",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.port=chrome.runtime.connect(this.id,{name:"dashboard"}),this.port.onMessage.addListener((function(t){console.log("port-data:: ",t),"load-response"===t.kind&&e.emitter.emit("load-response",t),"all-tabs-response"===t.kind&&te.dispatch("setAllTabs",t.data),"all-tab-groups-response"===t.kind&&te.dispatch("setAllTabGroups",t.data),"all-bookmarks-response"===t.kind&&te.dispatch("setAllBookmarks",t.data),"all-bookmarks-tree-response"===t.kind&&te.dispatch("setBookmarkTree",t.data)})),this.port.onDisconnect.addListener((function(){setTimeout((function(){e.connect()}),100),console.log("port.onDisconnect")}))}}),Object.defineProperty(e.prototype,"postMessage",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return vr(this,void 0,void 0,(function(){return wr(this,(function(t){return this.port.postMessage(e),[2]}))}))}}),e}(),Tr=r(3494),Dr=r(8539),yr=r(7749);Tr.vI.add(Dr.Mdf,Dr.Xcf,Dr.EdJ,Dr.$aW,Dr.bgy,Dr.wlW,Dr.g6h,Dr.RP7,Dr.CPW,Dr.g82,Dr.kZ_,Dr.xiG,Dr.tU8,Dr.B7S,Dr.IyC,Dr.UOM,Dr.ihg,Dr.Tab,Dr.go9,Dr.WM4,Dr.fV7,Dr.Tab,Dr.EQ8,Dr.Zrf);var Ir=(0,fr.Z)(),_r=(0,n.ri)(gr);try{var Sr=new br("aekckpbdaninhmbbajcpedhaidaeofdh",Ir);Sr.connect(),_r.config.globalProperties.port=Sr}catch(Cr){console.log("error!")}_r.config.globalProperties.emitter=Ir,_r.config.globalProperties.github=new kr,_r.use(te).component("font-awesome-icon",yr.GN).mount("#app")},5696:function(){}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],s=n[1],u=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(u)var c=u(r)}for(t&&t(n);l<i.length;l++)a=i[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunklomni"]=self["webpackChunklomni"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(4769)}));n=r.O(n)})();
//# sourceMappingURL=app.84f9a5cc.js.map