(function(){var e={8824:function(e,t,n){"use strict";var r=n(9242),i=n(3396);function a(e,t,n,r,a,o){const s=(0,i.up)("SidebarView");return(0,i.wg)(),(0,i.j4)(s)}var o=n(7139),s={key:0},u={class:"sticky"};function l(e,t,n,r,a,l){var c=(0,i.up)("font-awesome-icon"),d=(0,i.up)("TabsView"),f=(0,i.up)("BookmarksView"),g=(0,i.up)("PluginInstallView");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.hasPlugin?((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("ul",u,[(0,i._)("li",{class:(0,o.C_)({active:"tabs"===this.selected}),onClick:t[0]||(t[0]=function(t){return e.select("tabs")})},[(0,i.Wm)(c,{icon:"tv"}),(0,i.Uk)(" Bars ")],2),(0,i._)("li",{class:(0,o.C_)({active:"frames"===this.selected}),onClick:t[1]||(t[1]=function(t){return e.select("frames")})},[(0,i.Wm)(c,{icon:"star"}),(0,i.Uk)(" Bookmarks ")],2)]),e.renderData&&"tabs"===e.selected?((0,i.wg)(),(0,i.j4)(d,{key:0,"render-data":e.renderData},null,8,["render-data"])):(0,i.kq)("",!0),e.renderData&&"frames"===e.selected?((0,i.wg)(),(0,i.j4)(f,{key:1,"bookmark-window":e.bookmarkWindow},null,8,["bookmark-window"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.hasPlugin?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(g,{key:1}))],64)}const c={key:0},d={key:1};function f(e,t,n,r,a,o){const s=(0,i.up)("CurrentActiveTabs"),u=(0,i.up)("TabContainer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.renderData.windows&&1===n.renderData.windows.length?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(s,{window:n.renderData.windows[0],tags:n.renderData.tags,search:n.renderData.search,frames:n.renderData.frames,"groups-data":n.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])):(0,i.kq)("",!0),n.renderData.windows&&n.renderData.windows.length>1?((0,i.wg)(),(0,i.iD)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.renderData.windows,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(u,{title:"current tab: "+e.name,"default-activation":!0},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{window:e,tags:n.renderData.tags,search:n.renderData.search,frames:n.renderData.frames,"groups-data":n.renderData.groupsData},null,8,["window","tags","search","frames","groups-data"])])),_:2},1032,["title"])])))),128))])):(0,i.kq)("",!0)],64)}const g=e=>((0,i.dD)("data-v-7a2ff513"),e=e(),(0,i.Cn)(),e),p={id:"tab",ref:"tab",class:"tab"},m=g((()=>(0,i._)("input",{type:"checkbox"},null,-1)));function h(e,t,n,a,s,u){return(0,i.wg)(),(0,i.iD)("div",p,[m,(0,i._)("label",{class:(0,o.C_)(["tab-label",{"label-open":u.isActive}]),onClick:t[0]||(t[0]=(...e)=>u.openTab&&u.openTab(...e)),draggable:"true"},(0,o.zw)(n.title),3),(0,i.wy)((0,i._)("div",{class:(0,o.C_)(["tab-content",{border:n.useBorder}]),ref:"content"},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2),[[r.F8,u.isActive]])],512)}var k={name:"TabContainer",props:["title","defaultActivation","useBorder"],data(){return{isActiveButton:null,lastOffetY:null}},watch:{},computed:{isActive(){return null===this.isActiveButton?this.defaultActivation:this.isActiveButton}},methods:{openTab(){null===this.isActiveButton&&this.defaultActivation||this.isActiveButton?this.isActiveButton=!1:this.isActiveButton=!0}}},v=n(89);const w=(0,v.Z)(k,[["render",h],["__scopeId","data-v-7a2ff513"]]);var b=w,T={class:"active-frame-container"};function y(e,t,n,r,a,o){var s=(0,i.up)("ToolBar"),u=(0,i.up)("ActiveFrameUnit"),l=(0,i.up)("NestedFrames");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s,{class:"toolbar",frames:e.frames,"groups-data":e.groupsData,search:e.search,tags:e.tags},null,8,["frames","groups-data","search","tags"]),(0,i._)("div",T,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.window.pinneds,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(u,{frame:e},null,8,["frame"])])})),128)),(0,i.Wm)(l,{frames:e.window.tabs,"raw-list":e.window.tabs},null,8,["frames","raw-list"])])],64)}var D={class:"frame-info"},_={key:0,class:"edit-title"},I=["src"],S={key:1,class:"frame-header-left"},C=["src"],M={key:2,class:"frame-header-right"};function O(e,t,n,a,s,u){var l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("TagContainer");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["frame-info-container",{open:e.frame.isSelected,"sound-enabled":e.frame.audible}]),ref:"frame",id:"frame"},[(0,i._)("div",D,[(0,i._)("div",{class:"frame-header",onClick:t[17]||(t[17]=(0,r.iM)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goToPage&&e.goToPage.apply(e,t)}),["exact"]))},[e.editTitle?((0,i.wg)(),(0,i.iD)("div",_,[e.frame.favIconUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,I)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newTitle=t})},null,512),[[r.nr,e.newTitle]]),(0,i.Wm)(l,{class:"accept",icon:"circle-check",onClick:e.upsertBookmark},null,8,["onClick"]),(0,i.Wm)(l,{class:"cancel",icon:"xmark",onClick:t[1]||(t[1]=function(t){return e.editTitle=!1})})])):(0,i.kq)("",!0),e.editTitle?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",S,[e.frame.favIconUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,C)):(0,i.kq)("",!0),(0,i._)("p",{class:(0,o.C_)(["frame-title",{"current-selected":e.frame.isSelected}]),onDblclick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.toEditMode&&e.toEditMode.apply(e,t)})},(0,o.zw)(e.frame.title),35)])),e.editTitle?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",{class:"frame-header-clone",onClick:[t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.clone&&e.clone.apply(e,t)}),t[4]||(t[4]=(0,r.iM)((function(){}),["stop"]))],title:"clone frame"},[(0,i.Wm)(l,{icon:"clone"})]),-1===this.frame.groupId?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"frame-header-group",onClick:[t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.newGroupTab&&e.newGroupTab.apply(e,t)}),t[6]||(t[6]=(0,r.iM)((function(){}),["stop"]))],title:"add tab to group"},[(0,i.Wm)(l,{icon:"object-group"})])):(0,i.kq)("",!0),this.frame.groupId>-1?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"frame-header-group",onClick:[t[7]||(t[7]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.removeGroupTab&&e.removeGroupTab.apply(e,t)}),t[8]||(t[8]=(0,r.iM)((function(){}),["stop"]))],title:"add tab to group"},[(0,i.Wm)(l,{icon:"object-ungroup"})])):(0,i.kq)("",!0),e.frame.isPinned?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"frame-header-pinned pinned",onClick:[t[9]||(t[9]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.unpinTab&&e.unpinTab.apply(e,t)}),t[10]||(t[10]=(0,r.iM)((function(){}),["stop"]))],title:"unpin current tab"},[(0,i.Wm)(l,{icon:"thumbtack"})])):(0,i.kq)("",!0),e.frame.isPinned?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:3,class:"frame-header-pinned",onClick:[t[11]||(t[11]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.pinTab&&e.pinTab.apply(e,t)}),t[12]||(t[12]=(0,r.iM)((function(){}),["stop"]))],title:"pin current tab"},[(0,i.Wm)(l,{icon:"thumbtack"})])),e.frame.bookmarkId?((0,i.wg)(),(0,i.iD)("div",{key:4,class:"frame-header-star star",onClick:t[13]||(t[13]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.removeBookmark&&e.removeBookmark.apply(e,t)}),title:"remove from bookmark"},[(0,i.Wm)(l,{icon:"star"})])):(0,i.kq)("",!0),e.frame.bookmarkId?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:5,class:"frame-header-star",onClick:t[14]||(t[14]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.addBookmark&&e.addBookmark.apply(e,t)}),title:"add to bookmark"},[(0,i.Wm)(l,{icon:"star"})])),e.frame.isOpened?((0,i.wg)(),(0,i.iD)("div",{key:6,class:"frame-header-close",onClick:[t[15]||(t[15]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.closeTab&&e.closeTab.apply(e,t)}),t[16]||(t[16]=(0,r.iM)((function(){}),["stop"]))],title:"close current tab"},[(0,i.Wm)(l,{icon:"xmark"})])):(0,i.kq)("",!0)]))]),e.frame.isPinned?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,onClickedSuggestion:e.clickedSuggestion,"suggested-tags":e.frame.suggestedTags,"fixed-tags":e.frame.preProcessedTags,tags:e.frame.tags,onClickedTag:e.clickedTag,onRemoveTag:e.removeTag,onClick:t[18]||(t[18]=(0,r.iM)((function(){}),["stop"]))},null,8,["onClickedSuggestion","suggested-tags","fixed-tags","tags","onClickedTag","onRemoveTag"]))])],2)}n(7658);var A=n(65),E=function(e){if(""===e)return"empty.com";if(e.startsWith("chrome://"))return"chrome.google";var t=new URL(e).hostname;return t=t.replace("www.",""),t};function W(e){return e&&e.startsWith("https://")?(e=e.substring(8),e=e.replace("www.",""),e.split("/")[0]):""}function q(e){var t=W(e),n=t.split(".");return n.pop(),n=n.filter((function(e){return"com"!==e})),n=n.filter((function(e){return e.length>1})),n}function x(e){return{treeNode:"0"===e.id?U(e.children):[]}}var U=function(e){var t=[];return e.forEach((function(e){var n=H(e.title);e.children&&e.children.length>0?t.push({children:U(e.children),id:e.id,parentId:e.parentId,index:e.index,title:n.title,titleRaw:e.title,url:e.url,editable:"0"!==e.parentId&&"0"!==e.id,tags:n.tags}):t.push({children:[],parentId:e.parentId,id:e.id,index:e.index,title:n.title,titleRaw:e.title,url:e.url,favIconUrl:V(e.url),editable:!0,tags:n.tags})})),t};function B(e,t,n,r){var i=Y(e);return{tabs:t,search:r,tags:P(i,r),windows:F(t,n,i,r),frames:N(i)}}function P(e,t){void 0===t&&(t=[]);var n=[],r=L(e,t);return r.forEach((function(e){e.tags.forEach((function(e){if(!t.includes(e)){var r=n.findIndex((function(t){return t.name===e}));-1===r?n.push({name:e,count:1,kind:"tag"}):n[r].count++}})),e.preProcessedTags.forEach((function(e){if(!t.includes(e)){var r=n.findIndex((function(t){return t.name===e}));-1===r?n.push({name:e,count:1,kind:"preProcessed"}):n[r].count++}}))})),t.length>0&&(n=n.filter((function(e){return e.count<r.length}))),n.sort((function(e,t){return e.count>t.count?-1:1}))}function F(e,t,n,r){void 0===r&&(r=[]);var i=[];return e.forEach((function(a){var o,s=i.find((function(e){return e.id===a.windowId}));s||(s={name:"main",id:a.windowId,tabs:[]},i.push(s));var u=n.find((function(e){return e.url===a.url}));if(a.pinned)s.tabs.push(R(a,u,r));else{-1===a.groupId&&s.tabs.push(R(a,u,r));var l=t.find((function(e){return e.id===a.groupId}));if(l){var c=s.tabs.find((function(e){return e.id===a.groupId})),d=R(a,u,r);if(c)d.suggestedTags=c.tags.filter((function(e){return!d.tags.includes(e)})),(o=c.suggestedTags).push.apply(o,d.tags),c.suggestedTags=c.suggestedTags.filter((function(e,t){return c.suggestedTags.indexOf(e)===t&&!c.tags.includes(e)})),c.frames.push(d);else{var f=$(l.title),g=[];f.length>0&&(d.suggestedTags=f.filter((function(e){return!d.tags.includes(e)&&!d.suggestedTags.includes(e)})),g=G({bookmarks:n,tabs:e,openGroup:l,groupTags:f})),s.tabs.push({id:a.groupId,title:l.title,color:l.color,collapsed:l.collapsed,suggestedFrames:g,frames:[d],suggestedTags:d.tags.filter((function(e){return!f.includes(e)})),tags:f,preProcessedTags:["@group"],kind:"group"})}}}})),i}function G(e){if(0===e.groupTags.length)return[];var t=e.bookmarks.filter((function(t){return e.groupTags.every((function(e){return $(t.title).includes(e)}))})),n=e.tabs.filter((function(t){return t.groupId===e.openGroup.id})).map((function(e){return e.url}));t=t.filter((function(e){return!n.includes(e.url?e.url:"")}));var r=[];return t.forEach((function(e){e.url&&r.push({url:e.url,favIconUrl:V(e.url),tags:$(e.title),title:K(e.title),preProcessedTags:q(e.url).map((function(e){return"@"+e}))})})),r}function R(e,t,n){void 0===n&&(n=[]);var r=[],i=void 0,a=e.title;if(t){var o=H(t.title);i=t.id,a=o.title,r=o.tags}return{id:e.id,windowId:e?e.windowId:-1,groupId:e?e.groupId:-1,index:e?e.index:-1,url:e.url,favIconUrl:e.favIconUrl,suggestedTags:n.filter((function(e){return!r.includes(e)&&e.startsWith("#")})),bookmarkId:i,title:a,tags:r,audible:!!e&&e.audible,domain:E(e.url),preProcessedTags:q(e.url).map((function(e){return"@"+e})),isPinned:e.pinned,active:e.active,isOpened:!0,isSelected:e.selected,kind:"web"}}function L(e,t){if(!e)return[];var n=t.filter((function(e){return e.startsWith("#")})),r=t.filter((function(e){return e.startsWith("@")}));return e.filter((function(e){var t="@"+q(e.url),i=$(e.title),a=!(r.length>0)||r.every((function(e){return t.includes(e)})),o=!(n.length>0)||n.every((function(e){return i.includes(e)}));return a&&o})).map((function(e){return{preProcessedTags:q(e.url).map((function(e){return"@"+e})),tags:$(e.title)}}))}function Z(e,t){return t.length>0&&(e=e.filter((function(e){return t.every((function(t){return e.tags.includes(t)||e.preProcessedTags.includes(t)}))}))),j(e)}function j(e){return e.sort((function(e,t){var n=e.tags.length>t.tags.length;return n?1:-1}))}function V(e){var t=new URL("chrome-extension://".concat("aekckpbdaninhmbbajcpedhaidaeofdh","/_favicon/"));return t.searchParams.set("pageUrl",e),t.searchParams.set("size","16"),t.toString()}var H=function(e){var t=/\s#[a-z0-9/-]+/gi,n=e.match(t);return{title:e.replace(t,"").trim(),tags:n?n.map((function(e){return e.trim()})):[]}},K=function(e){return e.replace(/\s#[a-z0-9/-]+/gi,"").trim()},$=function(e){if(!e)return[];var t=e.match(/\s#[a-z0-9/-]+/gi);return t?t.map((function(e){return e.trim()})):[]},z=function(e,t){return"".concat(e," ").concat(t.join(" "))},Y=function(e){var t=[];return t.push({id:e.id,title:e.title,url:e.url}),e.children&&e.children.length>0&&e.children.forEach((function(e){t.push.apply(t,Y(e))})),t},N=function(e){return e.filter((function(e){return e.url&&e.title})).map((function(e){return{url:e.url,favIconUrl:V(e.url),tags:$(e.title),title:K(e.title),preProcessedTags:q(e.url).map((function(e){return"@"+e}))}}))};function J(e,t){var n=t.toLowerCase(),r=e.filter((function(e){return e.title.toLowerCase().includes(n)}));return r.sort((function(e,t){return e.title.indexOf(n)>t.title.indexOf(n)?1:-1}))}var Q=function(e,t,n){var r=e.moved?e.moved.element:e.added?e.added.element:null;if(!r)return null;if(t=X(t,r.id),e.moved)if(-1===n)t.splice(e.moved.newIndex,0,r);else{var i=t.find((function(e){return e.id===n}));i.frames.splice(e.moved.newIndex,0,r)}else if(e.added)if(-1===n)t.splice(e.added.newIndex,0,r);else{i=t.find((function(e){return e.id===n}));i.frames.splice(e.added.newIndex,0,r)}var a=ee(t,-1);if("web"===r.kind){var o=a.findIndex((function(e){return e.id===r.id}));return{kind:"move-tab",tab:r.id,windowId:r.windowId,index:o,groupId:n}}o=a.findIndex((function(e){return e.groupId===r.id}));return{kind:"move-group",id:r.id,windowId:r.windowId,index:o}},X=function(e,t){return e=e.filter((function(e){return e.id!==t})),e.forEach((function(e){e.frames&&(e.frames=X(e.frames,t))})),e},ee=function(e,t){var n=[];return e.forEach((function(e){e.frames?n.push.apply(n,ee(e.frames,e.id)):n.push({id:e.id,groupId:t})})),n},te=(0,A.MT)({state:function(){return{dragItem:null,storage:{kind:"local",accessKey:"",gistID:""},clipboard:null,head:{input:""},frameContainer:{currentSelectedFrameIdx:-1},tabs:[],tabGroups:[],bookmarks:[],bookmarkTreeNode:{},search:[]}},getters:{dragItem:function(e){return e.dragItem},bookmarkWindow:function(e){return x(e.bookmarkTreeNode)},storage:function(e){return e.storage},activeTab:function(e){var t=e.tabs.find((function(e){return e.active}));return t&&t.url?t:null},allTabs:function(e){return e.tabs},renderData:function(e){return B(e.bookmarkTreeNode,e.tabs,e.tabGroups,e.search)}},mutations:{ADD_SEARCH_ITEM:function(e,t){e.search.some((function(e){return e===t}))||e.search.push(t)},REMOVE_SEARCH_ITEM:function(e,t){var n=e.search.findIndex((function(e){return e===t}));~n&&e.search.splice(n,1)},SET_DRAG_ITEM:function(e,t){e.dragItem=t},SET_DROPER_ID:function(e,t){setTimeout((function(){e.dragItem&&e.dragItem.lastUpdate&&Date.now()-200>e.dragItem.lastUpdate&&(e.dragItem.dropperId=null)}),300),e.dragItem&&(e.dragItem.dropperId=t,e.dragItem.lastUpdate=Date.now())},SET_STORAGE:function(e,t){localStorage.setItem("storage",JSON.stringify(t)),e.storage=t},SET_CLIPBOARD:function(e,t){e.clipboard=t},SET_ALL_TABS:function(e,t){e.tabs=t},SET_ALL_TAB_GROUPS:function(e,t){e.tabGroups=t},SET_ALL_BOOKMARKS:function(e,t){e.bookmarks=t},SET_BOOKMARK_TREE:function(e,t){e.bookmarkTreeNode=t[0]}},actions:{addSearchItem:function(e,t){e.commit("ADD_SEARCH_ITEM",t)},removeSearchItem:function(e,t){e.commit("REMOVE_SEARCH_ITEM",t)},setDragItem:function(e,t){e.commit("SET_DRAG_ITEM",t)},setDropperId:function(e,t){e.commit("SET_DROPER_ID",t)},setClipboard:function(e,t){e.state.clipboard!==t&&e.commit("SET_CLIPBOARD",t)},setAllTabs:function(e,t){e.commit("SET_ALL_TABS",t)},setAllTabGroups:function(e,t){e.commit("SET_ALL_TAB_GROUPS",t)},setAllBookmarks:function(e,t){e.commit("SET_ALL_BOOKMARKS",t)},setBookmarkTree:function(e,t){e.commit("SET_BOOKMARK_TREE",t)},removeGroup:function(e,t){e.commit("REMOVE_SAVED_GROUP",t)}},modules:{}});const ne={class:"tags-container"},re={class:"add"},ie=["onClick"],ae=["onClick"],oe=["onClick"],se=["onClick"];function ue(e,t,n,r,a,s){const u=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",ne,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.suggestedTags,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"tag add",key:n,draggable:"true"},[(0,i._)("span",re,[(0,i.Wm)(u,{icon:"square-plus"})]),(0,i._)("span",{onClick:n=>e.$emit("clickedSuggestion",t)},(0,o.zw)(t),9,ie)])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.fixedTags,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"tag",key:n,draggable:"true"},[(0,i._)("span",{onClick:n=>e.$emit("clickedTag",t)},(0,o.zw)(t),9,ae)])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tags,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"tag",key:n,draggable:"true"},[(0,i._)("span",{class:"remove",onClick:n=>e.$emit("removeTag",t)},[(0,i.Wm)(u,{icon:"xmark"})],8,oe),(0,i._)("span",{onClick:n=>e.$emit("clickedTag",t)},(0,o.zw)(t),9,se)])))),128))])}var le={name:"TagContainer",emits:["addTag","clickedTag","removeTag","clickedSuggestion"],props:["tags","fixedTags","color","suggestedTags"],data(){return{isDraggingOver:!1,id:Math.floor(1e9*Math.random()).toFixed(0)}},computed:{dragItem(){return te.getters.dragItem},isRemoveDroppable(){return!!this.dragItem&&this.dragItem.draggerId===this.id},isAddingDroppable(){return!(!this.dragItem||"tag"!==this.dragItem.kind)&&this.dragItem.draggerId!==this.id}},methods:{dragstart(e){const t={kind:"tag",draggerId:this.id,object:e};te.dispatch("setDragItem",t)},dragend(){te.dispatch("setDragItem",null)},dragover(){this.isDraggingOver=!0},dragleave(){this.isDraggingOver=!1},onDropAdd(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("addTag",this.dragItem.object)},onDropRemove(){this.dragItem&&"tag"===this.dragItem.kind&&this.$emit("removeTag",this.dragItem.object)}}};const ce=(0,v.Z)(le,[["render",ue],["__scopeId","data-v-3c95a99b"]]);var de=ce,fe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ge=(0,i.aZ)({name:"ActiveFrameUnit",components:{TagContainer:de},props:["frame"],data:function(){return{editTitle:!1,newTitle:this.frame.title}},computed:{dragItem:function(){return te.getters.dragItem}},watch:{},mounted:function(){},methods:{clickedSuggestion:function(e){var t=fe(fe([],this.frame.tags,!0),[e],!1),n=z(this.frame.title,t);this.frame.bookmarkId?this.port.postMessage({kind:"update-bookmark",url:this.frame.url,title:n,id:this.frame.bookmarkId}):this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:n})},toEditMode:function(){this.editTitle=!0,this.newTitle=this.frame.title},upsertBookmark:function(){var e=z(this.newTitle,this.frame.tags);this.frame.bookmarkId?this.port.postMessage({kind:"update-bookmark",url:this.frame.url,title:e,id:this.frame.bookmarkId}):this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:e}),this.editTitle=!1},copyLink:function(){navigator.clipboard.writeText(this.frame.url)},clickedTag:function(e){te.dispatch("addSearchItem",e)},newGroupTab:function(){this.port.postMessage({kind:"group-tabs",tabs:this.frame.id})},removeGroupTab:function(){this.port.postMessage({kind:"ungroup-tabs",tabs:this.frame.id})},pinTab:function(){this.frame.isOpened?this.port.postMessage({kind:"pin-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url,pinned:!0})},clone:function(){this.port.postMessage({kind:"duplicate-tab",id:this.frame.id})},unpinTab:function(){this.port.postMessage({kind:"unpin-tab",tab:this.frame.id})},closeTab:function(){this.port.postMessage({kind:"close-tabs",tab:this.frame.id})},addBookmark:function(){this.port.postMessage({kind:"create-bookmark",url:this.frame.url,title:this.frame.title})},removeBookmark:function(){this.port.postMessage({kind:"remove-bookmark",id:this.frame.bookmarkId})},goToPage:function(){this.frame.isOpened?this.port.postMessage({kind:"open-request-existing-tab",tab:this.frame.id}):this.port.postMessage({kind:"open-request-new-tab",url:this.frame.url})},addTag:function(e){var t=JSON.parse(JSON.stringify(this.frame));t.tags.push(e),te.dispatch("upsertFrame",t)},removeTag:function(e){var t=this.frame.tags.filter((function(t){return t!==e})),n=z(this.frame.title,t);this.port.postMessage({kind:"update-bookmark",url:this.frame.url,title:n,id:this.frame.bookmarkId})}}});const pe=(0,v.Z)(ge,[["render",O],["__scopeId","data-v-0f08c962"]]);var me=pe,he={class:"toolbar"},ke={class:"main-container"},ve={class:"tag-input-container"},we=["onClick","onDrag"],be=["placeholder"],Te={key:0,class:"addframe-container"},ye={key:2},De={key:1,class:"addframe-container"};function _e(e,t,n,a,s,u){var l=(0,i.up)("TagListContainer"),c=(0,i.up)("ToolbarFrameUnit");return(0,i.wg)(),(0,i.iD)("div",he,[(0,i._)("div",ke,[(0,i._)("div",ve,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.search,(function(n,r){return(0,i.wg)(),(0,i.iD)("p",{class:"tag-input",key:r},[(0,i._)("span",{onClick:function(t){return e.removeTag(n)},draggable:"true",onDrag:function(t){return e.dragstart(n)},onDragend:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.dragend&&e.dragend.apply(e,t)})},(0,o.zw)(n),41,we)])})),128)),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.input=t}),placeholder:e.placeholder,onKeydown:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.keydown&&e.keydown.apply(e,t)}),ref:"input"},null,40,be),[[r.nr,e.input]])]),e.isFrameSearch?((0,i.wg)(),(0,i.iD)("div",Te,[(0,i.Wm)(l,{tags:e.tagsFiltered,class:"tag-list-container","initial-show":10,onAddTag:e.addTag},null,8,["tags","onAddTag"]),e.showFrameSuggestions?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",{key:0,class:"show-suggestions",onClick:t[3]||(t[3]=function(t){return e.showFrameSuggestions=!0})},[(0,i.Uk)("Show "),(0,i._)("b",null,"+"+(0,o.zw)(e.framesFiltered.length),1),(0,i.Uk)(" frames suggestions")])),e.showFrameSuggestions?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"show-suggestions",onClick:t[4]||(t[4]=function(t){return e.showFrameSuggestions=!1})},"Hide all suggestions")):(0,i.kq)("",!0),e.showFrameSuggestions?((0,i.wg)(),(0,i.iD)("div",ye,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.framesFiltered,(function(t,n){return(0,i.wg)(),(0,i.iD)("div",{class:"frames-container",key:n},[(0,i.Wm)(c,{frame:t,onSelected:e.addFrame},null,8,["frame","onSelected"])])})),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.isTitleSearch?((0,i.wg)(),(0,i.iD)("div",De,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.framesByTitle,(function(t,n){return(0,i.wg)(),(0,i.iD)("div",{class:"frames-container",key:n},[(0,i.Wm)(c,{frame:t,onSelected:e.addFrame},null,8,["frame","onSelected"])])})),128))])):(0,i.kq)("",!0)])])}const Ie={class:"tags"},Se=["onClick"],Ce={key:0};function Me(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("ul",Ie,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("a",{href:"#",class:"tag",style:(0,o.j5)(s.getCount(e.count)),onClick:t=>s.selectTag(t,e)},(0,o.zw)(e.name),13,Se)])))),128)),s.displayShow>0?((0,i.wg)(),(0,i.iD)("li",Ce,[(0,i._)("a",{class:"tag-add",onClick:t[0]||(t[0]=(...e)=>s.showMore&&s.showMore(...e))},"+"+(0,o.zw)(s.displayShow),1)])):(0,i.kq)("",!0)])}var Oe={name:"TagListContainer",emits:["addTag"],props:["tags","initialShow"],data(){return{styleObject:{"--count":"'12'"},moreToShow:0}},computed:{displayShow(){return this.tags.length-this.initialShow-this.moreToShow},slice(){return this.initialShow+this.moreToShow},items(){const e=JSON.parse(JSON.stringify(this.tags));return e.splice(0,this.slice).sort(((e,t)=>e.count<t.count?1:-1))}},methods:{showMore(){this.moreToShow+=10},getCount(e){return{"--count":`'${e}'`}},selectTag(e,t){this.$emit("addTag",t),e.preventDefault()}}};const Ae=(0,v.Z)(Oe,[["render",Me],["__scopeId","data-v-7c1609d9"]]);var Ee=Ae,We={class:"frame-info"},qe={class:"frame-header"},xe={class:"frame-header-left"},Ue=["src"];function Be(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",{class:"frame-info-container",ref:"frame",id:"frame",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.click&&e.click.apply(e,t)})},[(0,i._)("div",We,[(0,i._)("div",qe,[(0,i._)("div",xe,[e.frame.favIconUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16",height:"16"},null,8,Ue)):(0,i.kq)("",!0),(0,i._)("small",{class:(0,o.C_)({"current-selected":e.frame.isSelected})},(0,o.zw)(e.frame.title),3)])])])],512)}var Pe=(0,i.aZ)({name:"ToolbarFrameUnit",emits:["selected"],components:{},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const Fe=(0,v.Z)(Pe,[["render",Be],["__scopeId","data-v-c0404076"]]);var Ge=Fe,Re=(0,i.aZ)({name:"ToolBar",components:{ToolbarFrameUnit:Ge,TagListContainer:Ee},props:["frames","search","tags"],data:function(){return{input:"",showFrameSuggestions:!1}},watch:{},computed:{framesByTitle:function(){return J(this.frames,this.input)},framesFiltered:function(){return this.frames&&0!==this.search.length?Z(this.frames,this.search):[]},tagsFiltered:function(){var e=this;return this.input.length>1?this.tags.filter((function(t){return t.name.includes(e.input)})):this.tags},placeholder:function(){return 0===this.search.length?"Start a text or #,@ to search by tags":"Add more tags here"},isFrameSearch:function(){return this.input.startsWith("#")||this.input.startsWith("@")||this.search.length>0},isTitleSearch:function(){return this.input.match(/^\w+/gi)},isGroupSearch:function(){return this.input.startsWith("/")||this.input.startsWith("/")&&this.search.length>0}},methods:{dragstart:function(e){var t={kind:"tag",draggerId:Math.floor(1e9*Math.random()).toFixed(0),object:e};te.dispatch("setDragItem",t)},dragend:function(){te.dispatch("setDragItem",null)},removeTag:function(e){te.dispatch("removeSearchItem",e)},addFrame:function(e){this.port.postMessage({kind:"open-request-new-tab",url:e.url})},addTag:function(e){te.dispatch("addSearchItem",e.name),this.input="";var t=this.$refs.input;this.$nextTick((function(){t.focus()}))},keydown:function(e){if("Escape"===e.code&&e.preventDefault(),"Backspace"===e.code&&0===this.input.length&&(te.dispatch("removeSearchItem",this.search[this.search.length-1]),e.preventDefault()),"Enter"===e.code&&this.input.length>1&&this.input.startsWith("#")){te.dispatch("addSearchItem",this.input),this.input="",e.preventDefault();var t=this.$refs.input;this.$nextTick((function(){t.focus()}))}}}});const Le=(0,v.Z)(Re,[["render",_e],["__scopeId","data-v-46aa6cf2"]]);var Ze=Le;const je=["data-id"],Ve={key:0},He={key:1};function Ke(e,t,n,r,a,o){const s=(0,i.up)("ActiveFrameUnit"),u=(0,i.up)("GroupTabs"),l=(0,i.up)("SuggestionFrames"),c=(0,i.up)("TabGroupScaffold"),d=(0,i.up)("draggable");return(0,i.wg)(),(0,i.j4)(d,(0,i.dG)({tag:"div",onStart:t[0]||(t[0]=e=>a.drag=!0),onChange:o.log,onEnd:t[1]||(t[1]=e=>this.drag=!1),modelValue:o.finalList,"onUpdate:modelValue":t[2]||(t[2]=e=>o.finalList=e)},o.dragOptions,{"item-key":"id"}),{item:(0,i.w5)((({element:e})=>[(0,i._)("div",{class:"list-group-item","data-id":e.id},["web"===e.kind?((0,i.wg)(),(0,i.iD)("div",Ve,[(0,i.Wm)(s,{frame:e},null,8,["frame"])])):(0,i.kq)("",!0),"group"===e.kind?((0,i.wg)(),(0,i.iD)("div",He,[(0,i.Wm)(c,{title:e.title,color:e.color,collapsed:e.collapsed,group:e,"count-frames":e.frames.length},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{frames:e.frames,group:e,"raw-list":n.rawList},null,8,["frames","group","raw-list"]),(0,i.Wm)(l,{frames:e.suggestedFrames,group:e},null,8,["frames","group"])])),_:2},1032,["title","color","collapsed","group","count-frames"])])):(0,i.kq)("",!0)],8,je)])),_:1},16,["onChange","modelValue"])}var $e=n(4269),ze=n.n($e),Ye={class:"scafold-container"},Ne={class:"header-left"},Je={key:0},Qe={class:"header-right"},Xe={class:"frame-footer-drag"},et={key:1,class:"footer"};function tt(e,t,n,a,s,u){var l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("TagContainer");return(0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("div",{class:(0,o.C_)(["header",e.color])},[(0,i._)("div",Ne,[e.collapsed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["input",e.color]),onClick:t[0]||(t[0]=function(t){return e.collapse(!0)})},"-",2)),e.collapsed?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)(["input",e.color]),onClick:t[1]||(t[1]=function(t){return e.collapse(!1)})},"+",2)):(0,i.kq)("",!0),e.editTitleMode?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newTitle=t}),class:(0,o.C_)(e.color),onFocusout:t[3]||(t[3]=function(t){return e.saveNewTitle()}),placeholder:"(empty)",ref:"input"},null,34)),[[r.nr,e.newTitle]]):(0,i.kq)("",!0),e.editTitleMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("label",{key:3,class:(0,o.C_)(e.color),ref:"label",onClick:t[4]||(t[4]=function(t){return e.editTitle()})},[(0,i.Uk)((0,o.zw)(e.title.length>0?e.title:"(empty)")+" ",1),e.collapsed?((0,i.wg)(),(0,i.iD)("span",Je," - "+(0,o.zw)(e.countFrames)+" item(s)",1)):(0,i.kq)("",!0)],2))]),(0,i._)("div",Qe,[(0,i._)("div",{class:(0,o.C_)(["color-picker",e.color]),onClick:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.changeColor&&e.changeColor.apply(e,t)})},"color",2),(0,i._)("div",Xe,[(0,i.Wm)(l,{icon:"bars"})])])],2),e.collapsed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["content",e.color])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)),e.collapsed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",et,[(0,i.Wm)(c,{onClickedSuggestion:e.addTagsToGroup,"suggested-tags":e.group.suggestedTags,tags:e.group.tags,color:e.group.color,onAddTag:e.removeTag,onRemoveTag:e.removeTag},null,8,["onClickedSuggestion","suggested-tags","tags","color","onAddTag","onRemoveTag"])]))])}var nt=(0,i.aZ)({name:"TabGroupScaffold",components:{TagContainer:de},props:["title","color","collapsed","countFrames","group"],data:function(){return{newTitle:this.title,editTitleMode:!1}},methods:{addTagsToGroup:function(e){var t=z(this.group.title,[e]);this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:t})},removeTag:function(e){var t=this.group.title.replace(e,"");this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:t})},collapse:function(e){this.port.postMessage({kind:"collapse-tab-groups",group:this.group.id,collapse:e})},editTitle:function(){var e=this;this.editTitleMode=!0,this.$nextTick((function(){var t=e.$refs.input;t.focus()}))},removeGroup:function(){te.dispatch("removeGroup",this.group.title)},changeColor:function(){var e=this.color;"grey"===this.color&&(e="blue"),"blue"===this.color&&(e="red"),"red"===this.color&&(e="yellow"),"yellow"===this.color&&(e="green"),"green"===this.color&&(e="pink"),"pink"===this.color&&(e="purple"),"purple"===this.color&&(e="cyan"),"cyan"===this.color&&(e="orange"),"orange"===this.color&&(e="grey"),this.port.postMessage({kind:"color-tab-groups",group:this.group.id,color:e})},saveNewTitle:function(){if(this.newTitle){var e=z(this.newTitle,this.group.tags);this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:e})}this.editTitleMode=!1}}});const rt=(0,v.Z)(nt,[["render",tt],["__scopeId","data-v-5c0c9eda"]]);var it=rt,at={key:0,class:"suggestion-show-container"},ot={key:1,class:"suggestion-show-container"},st={key:2,class:"suggestions-container"};function ut(e,t,n,r,a,s){var u=(0,i.up)("MinimalFrameUnit");return(0,i.wg)(),(0,i.iD)(i.HY,null,[!e.isOpen&&e.hasSuggestions?((0,i.wg)(),(0,i.iD)("div",at,[(0,i._)("span",{class:"suggestion-show",onClick:t[0]||(t[0]=function(t){return e.isOpen=!0})},[(0,i.Uk)(" Show "),(0,i._)("b",null,"+"+(0,o.zw)(e.frames.length),1),(0,i.Uk)(" tabs suggestions ")])])):(0,i.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,i.wg)(),(0,i.iD)("div",ot,[(0,i._)("span",{class:"suggestion-show",onClick:t[1]||(t[1]=function(t){return e.isOpen=!1})}," hide suggestions ")])):(0,i.kq)("",!0),e.isOpen&&e.hasSuggestions?((0,i.wg)(),(0,i.iD)("div",st,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.frames,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.id},[(0,i.Wm)(u,{frame:t,onSelected:e.selectedSuggestion},null,8,["frame","onSelected"])])})),128))])):(0,i.kq)("",!0)],64)}var lt={class:"frame-info"},ct={class:"frame-header"},dt={class:"frame-header-left"},ft=["src"];function gt(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",{class:"frame-info-container",ref:"frame",id:"frame",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.click&&e.click.apply(e,t)})},[(0,i._)("div",lt,[(0,i._)("div",ct,[(0,i._)("div",dt,[e.frame.favIconUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.frame.favIconUrl,width:"16"},null,8,ft)):(0,i.kq)("",!0),(0,i._)("small",{class:(0,o.C_)({"current-selected":e.frame.isSelected})},(0,o.zw)(e.frame.title),3)])])])],512)}var pt=(0,i.aZ)({name:"MinimalFrameUnit",emits:["selected"],components:{},props:["frame"],data:function(){return{}},computed:{},methods:{click:function(e){this.$emit("selected",this.frame),e.preventDefault()}}});const mt=(0,v.Z)(pt,[["render",gt],["__scopeId","data-v-73fe5aad"]]);var ht=mt,kt=(0,i.aZ)({name:"SuggestionFrames",components:{MinimalFrameUnit:ht},props:["frames","group"],data:function(){return{isOpen:!1}},methods:{selectedSuggestion:function(e){this.port.postMessage({kind:"open-and-update",url:e.url,windowId:this.group.windowId,groupId:this.group.id})}},computed:{hasSuggestions:function(){return this.frames.length>0}}});const vt=(0,v.Z)(kt,[["render",ut],["__scopeId","data-v-401768d8"]]);var wt=vt;const bt=["data-id"];function Tt(e,t,n,r,a,o){const s=(0,i.up)("ActiveFrameUnit"),u=(0,i.up)("draggable");return(0,i.wg)(),(0,i.j4)(u,(0,i.dG)({tag:"div",onStart:t[0]||(t[0]=e=>a.drag=!0),onChange:o.log,onEnd:t[1]||(t[1]=e=>this.drag=!1),modelValue:o.finalList,"onUpdate:modelValue":t[2]||(t[2]=e=>o.finalList=e)},o.dragOptions,{"item-key":"id"}),{item:(0,i.w5)((({element:e})=>[(0,i._)("div",{class:"list-group-item","data-id":e.id},[(0,i.Wm)(s,{frame:e},null,8,["frame"])],8,bt)])),_:1},16,["onChange","modelValue"])}var yt={props:["frames","group","rawList"],emits:["update"],components:{ActiveFrameUnit:me,draggable:ze()},name:"GroupTabs",watch:{frames(e){this.data=e}},computed:{finalList:{get(){return this.data},set(e){this.data=e}},dragOptions(){return{animation:100,group:"group",disabled:!1,ghostClass:"ghost"}}},data(){return{data:this.frames,drag:!1}},methods:{log(e){const t=Q(e,this.rawList,this.group?this.group.id:-1);t&&this.port.postMessage(t)}}};const Dt=(0,v.Z)(yt,[["render",Tt],["__scopeId","data-v-832787c2"]]);var _t=Dt,It={props:["frames","rawList"],emits:["update"],components:{GroupTabs:_t,SuggestionFrames:wt,TabGroupScaffold:it,ActiveFrameUnit:me,draggable:ze()},name:"RootTabs",watch:{frames(e){this.data=e}},computed:{finalList:{get(){return this.data},set(e){this.data=e}},dragOptions(){return{animation:100,group:"group",disabled:!1,ghostClass:"ghost"}}},data(){return{data:this.frames,drag:!1}},methods:{log(e){const t=Q(e,this.rawList,-1);t&&this.port.postMessage(t)}}};const St=(0,v.Z)(It,[["render",Ke],["__scopeId","data-v-ae94b990"]]);var Ct=St,Mt=(0,i.aZ)({name:"CurrentActiveTabs",props:["window","tags","frames","search","groupsData"],components:{NestedFrames:Ct,ToolBar:Ze,ActiveFrameUnit:me},data:function(){return{}},methods:{}});const Ot=(0,v.Z)(Mt,[["render",y],["__scopeId","data-v-4cc28992"]]);var At=Ot,Et={name:"ActiveAndFramesView",props:["renderData"],components:{CurrentActiveTabs:At,TabContainer:b}};const Wt=(0,v.Z)(Et,[["render",f]]);var qt=Wt;function xt(e,t,n,r,a,o){return(0,i.wg)(),(0,i.iD)("h1",null,"How to install lomni plugin")}var Ut={name:"PluginInstallView",mounted(){}};const Bt=(0,v.Z)(Ut,[["render",xt]]);var Pt=Bt;function Ft(e,t,n,r,a,o){const s=(0,i.up)("BookmarkContainer");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.bookmarkWindow.treeNode,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"bookmarks",key:e.id},[(0,i.Wm)(s,{bookmark:e},null,8,["bookmark"])])))),128)}var Gt={key:0},Rt={key:1};function Lt(e,t,n,r,a,o){var s=(0,i.up)("BookmarkContainer",!0),u=(0,i.up)("BookmarkScaffold"),l=(0,i.up)("BookmarkUnit");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.bookmark.children.length>0?((0,i.wg)(),(0,i.iD)("div",Gt,[(0,i.Wm)(u,{bookmark:e.bookmark},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.bookmark.children,(function(e){return(0,i.wg)(),(0,i.iD)("div",{class:"bookmark-children",key:e.id},[(0,i.Wm)(s,{bookmark:e},null,8,["bookmark"])])})),128))]})),_:1},8,["bookmark"])])):(0,i.kq)("",!0),0===e.bookmark.children.length?((0,i.wg)(),(0,i.iD)("div",Rt,[(0,i.Wm)(l,{bookmark:e.bookmark},null,8,["bookmark"])])):(0,i.kq)("",!0)],64)}var Zt=function(e){return(0,i.dD)("data-v-86c3b99a"),e=e(),(0,i.Cn)(),e},jt={class:"scafold-container"},Vt=["draggable"],Ht={class:"header-left"},Kt={key:0},$t={class:"header-right"},zt={class:"frame-footer-drag"},Yt={key:0,class:"content"},Nt=Zt((function(){return(0,i._)("div",{class:"footer"},null,-1)}));function Jt(e,t,n,a,s,u){var l=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",jt,[(0,i._)("div",{class:"header",draggable:e.bookmark.editable},[(0,i._)("div",Ht,[e.collapsed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"input",onClick:t[0]||(t[0]=function(t){return e.collapsed=!0})},"-")),e.collapsed?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"input",onClick:t[1]||(t[1]=function(t){return e.collapsed=!1})},"+")):(0,i.kq)("",!0),e.editTitleMode?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newTitle=t}),onFocusout:t[3]||(t[3]=function(t){return e.saveNewTitle()}),placeholder:"(empty)",ref:"input"},null,544)),[[r.nr,e.newTitle]]):(0,i.kq)("",!0),e.editTitleMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("label",{key:3,ref:"label",onClick:t[4]||(t[4]=function(t){return e.editTitle()})},[(0,i.Uk)((0,o.zw)(e.bookmark.title)+" ",1),e.collapsed?((0,i.wg)(),(0,i.iD)("span",Kt," - "+(0,o.zw)(e.bookmark.children.length)+" item(s)",1)):(0,i.kq)("",!0)],512))]),(0,i._)("div",$t,[(0,i._)("div",zt,[(0,i.Wm)(l,{icon:"bars"})])])],8,Vt),e.collapsed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Yt,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])),Nt])}var Qt=(0,i.aZ)({name:"BookmarkScaffold",components:{},props:["bookmark"],data:function(){return{collapsed:!1,newTitle:this.title,editTitleMode:!1}},methods:{addTag:function(e){console.log("TODO add tags",e)},removeTag:function(e){console.log("TODO remove tag",e)},editTitle:function(){var e=this;this.bookmark.editable&&(this.editTitleMode=!0,this.$nextTick((function(){var t=e.$refs.input;t.focus()})))},removeGroup:function(){te.dispatch("removeGroup",this.bookmark.title)},saveNewTitle:function(){this.newTitle&&this.port.postMessage({kind:"title-tab-groups",group:this.group.id,title:this.newTitle}),this.editTitleMode=!1}}});const Xt=(0,v.Z)(Qt,[["render",Jt],["__scopeId","data-v-86c3b99a"]]);var en=Xt,tn=["draggable"],nn={class:"bookmark-info"},rn={class:"bookmark-header"},an={class:"bookmark-header-left"},on=["src"],sn={key:2,class:"tags-container"},un={class:"bookmark-header-right"};function ln(e,t,n,a,s,u){var l=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",{class:"bookmark-info-container",ref:"bookmark",id:"bookmark",draggable:e.bookmark.editable},[(0,i._)("div",nn,[(0,i._)("div",rn,[(0,i._)("div",an,[(0,i._)("img",{src:e.bookmark.favIconUrl,width:"16",height:"16"},null,8,on),e.editMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("small",{key:0,onDblclick:t[0]||(t[0]=function(t){return e.editMode=!0})},(0,o.zw)(e.bookmark.title),33)),e.editMode?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newTitle=t}),onFocusout:t[2]||(t[2]=function(t){return e.saveTitle()}),autofocus:!0,ref:"input"},null,544)),[[r.nr,e.newTitle]]):(0,i.kq)("",!0),e.editMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",sn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.bookmark.tags,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{class:"tag",key:t,draggable:"true"},(0,o.zw)(e),1)})),128))]))]),(0,i._)("div",un,[(0,i._)("div",{class:"edit",onClick:t[3]||(t[3]=function(t){return e.editMode?e.editMode=!1:e.editMode=!0}),title:"edit frame"},[(0,i.Wm)(l,{icon:"edit"})])])])])],8,tn)}var cn=(0,i.aZ)({name:"BookmarkUnit",components:{},props:["bookmark"],data:function(){return{editMode:!1,newTitle:this.bookmark.title}},computed:{},methods:{saveTitle:function(){this.editMode=!1}}});const dn=(0,v.Z)(cn,[["render",ln],["__scopeId","data-v-0f7d67ee"]]);var fn=dn,gn=(0,i.aZ)({components:{BookmarkUnit:fn,BookmarkScaffold:en},props:["bookmark"],name:"BookmarkContainer"});const pn=(0,v.Z)(gn,[["render",Lt]]);var mn=pn,hn={name:"BookmarksView",props:["bookmarkWindow"],components:{BookmarkContainer:mn}};const kn=(0,v.Z)(hn,[["render",Ft],["__scopeId","data-v-309efa08"]]);var vn=kn,wn=(0,i.aZ)({name:"SidebarView",components:{BookmarksView:vn,PluginInstallView:Pt,TabsView:qt},data:function(){return{selected:"tabs",hasPlugin:!1}},computed:{bookmarkWindow:function(){return te.getters.bookmarkWindow},renderData:function(){return te.getters.renderData}},methods:{select:function(e){this.selected=e,this.$emit("selected",e)}},mounted:function(){this.port&&(this.hasPlugin=!0,this.port.postMessage({kind:"all-tabs-request"}),this.port.postMessage({kind:"all-tab-groups-request"}))}});const bn=(0,v.Z)(wn,[["render",l],["__scopeId","data-v-89ca5508"]]);var Tn=bn,yn={components:{SidebarView:Tn}};const Dn=(0,v.Z)(yn,[["render",a]]);var _n=Dn,In=n(1373),Sn=n(3642),Cn=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))},Mn=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},On=function(){function e(){}return Object.defineProperty(e.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Cn(this,void 0,void 0,(function(){var t;return Mn(this,(function(n){return t=new Sn.vd({auth:e}),console.log(t),t.rest.users.getAuthenticated().then((function(e){return console.log("success"),e})).catch((function(e){return console.log("error: ",e),!1})),[2]}))}))}}),e}(),An=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))},En=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Wn=function(){function e(e,t){Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"port",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.emitter=t,this.id=e}return Object.defineProperty(e.prototype,"connect",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.port=chrome.runtime.connect(this.id,{name:"dashboard"}),this.port.onMessage.addListener((function(t){console.log("port-data:: ",t),"load-response"===t.kind&&e.emitter.emit("load-response",t),"all-tabs-response"===t.kind&&te.dispatch("setAllTabs",t.data),"all-tab-groups-response"===t.kind&&te.dispatch("setAllTabGroups",t.data),"all-bookmarks-response"===t.kind&&te.dispatch("setAllBookmarks",t.data),"all-bookmarks-tree-response"===t.kind&&te.dispatch("setBookmarkTree",t.data)})),this.port.onDisconnect.addListener((function(){setTimeout((function(){e.connect()}),100),console.log("port.onDisconnect")}))}}),Object.defineProperty(e.prototype,"postMessage",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return An(this,void 0,void 0,(function(){return En(this,(function(t){return this.port.postMessage(e),[2]}))}))}}),e}(),qn=n(3494),xn=n(8539),Un=n(7749);qn.vI.add(xn.Mdf,xn.Xcf,xn.EdJ,xn.$aW,xn.bgy,xn.wlW,xn.g6h,xn.RP7,xn.CPW,xn.g82,xn.kZ_,xn.xiG,xn.tU8,xn.B7S,xn.IyC,xn.UOM,xn.ihg,xn.Tab,xn.go9,xn.WM4,xn.fV7,xn.Tab,xn.EQ8,xn.Zrf);var Bn=(0,In.Z)(),Pn=(0,r.ri)(_n);try{var Fn=new Wn("aekckpbdaninhmbbajcpedhaidaeofdh",Bn);Fn.connect(),Pn.config.globalProperties.port=Fn}catch(Gn){console.log("error!")}Pn.config.globalProperties.emitter=Bn,Pn.config.globalProperties.github=new On,Pn.use(te).component("font-awesome-icon",Un.GN).mount("#app")},5696:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,a){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],a=e[c][2];for(var s=!0,u=0;u<r.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(s=!1,a<o&&(o=a));if(s){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)var c=u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunklomni"]=self["webpackChunklomni"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8824)}));r=n.O(r)})();
//# sourceMappingURL=app.819fd9dc.js.map